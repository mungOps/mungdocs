<!DOCTYPE html>
<html lang="devops" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="CKS 문제풀이 - Kodeklode">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://mungdocs.kro.kr/devops/docs/Kubernetes/kube/cks/cks10/">
  <meta property="og:site_name" content="Mungs Book">
  <meta property="og:title" content="10. CKS 문제풀이 - Kodeklode">
  <meta property="og:description" content="CKS 문제풀이 - Kodeklode">
  <meta property="og:locale" content="devops">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:published_time" content="2024-02-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-02-05T18:00:21+09:00">
<title>10. CKS 문제풀이 - Kodeklode | Mungs Book</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.aea6768613e0e26eeea790725523cd6a2a8cdfc97995017b2baa46ecdbbef5bd.css" integrity="sha256-rqZ2hhPg4m7up5ByVSPNaiqM38l5lQF7K6pG7Nu&#43;9b0=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/devops.search.min.ec3dcde7593a74997f6825e9e6bd878fcaabe698f730d0f4fe81400337740b45.js" integrity="sha256-7D3N51k6dJl/aCXp5r2Hj8qr5pj3MND0/oFAAzd0C0U=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="http://mungdocs.kro.kr"><img src="/svg/book.svg"
    class="book-icon" /><span>Mungs Book</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="" aria-label="" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  
               

<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/svg/links-fill.svg" class="book-icon" /> DevOps
      </a>
    </label>

    <ul>
      
      <li>
        <a href="http://mungdocs.kro.kr/"> Main </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/database/"> Database </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/cloud/"> Cloud </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/system/"> System </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/network/"> Network </a>
      </li>
      
    </ul>
  </li>
</ul>






  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>CI/CD</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1976808e6fabeaaf3f2596b7cdedf00a" class="toggle"  />
    <label for="section-1976808e6fabeaaf3f2596b7cdedf00a" class="flex justify-between">
      <a role="button" class="">CI/CD 배포 입문</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/git00/" class="">0. Git이란?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/with-toc/" class="">1. 학습목표</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/key/" class="">암호화</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/table-of-contents/" class="">Table of Contents</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/table-of-contents/with-toc/" class="">With ToC</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Docker</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e069a4b98969c93832e34b55f8164154" class="toggle"  />
    <label for="section-e069a4b98969c93832e34b55f8164154" class="flex justify-between">
      <a role="button" class="">Docker</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker00/" class="">0. Docker&amp; Container</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker01/" class="">1. Docker 기본 명령어</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker02/" class="">2. Docker Registry</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker03/" class="">3. Dockerfile&amp; Compose</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker04/" class="">4. Docker 실습</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Git</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c53995e3c77c53c144d886277ffb618b" class="toggle"  />
    <label for="section-c53995e3c77c53c144d886277ffb618b" class="flex justify-between">
      <a role="button" class="">Git</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Git/Git/git00/" class="">0. Git이란?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Git/Git/git03/" class="">3. Git Branch</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Git/Git/git99/" class="">99. Git 명령어 요약정리</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Kubernetes</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a67237c84369064573cea1a9e8cb723a" class="toggle"  />
    <label for="section-a67237c84369064573cea1a9e8cb723a" class="flex justify-between">
      <a role="button" class="">Kubernetes</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s/" class="">0. Kubernetes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s00/" class="">0. Kubernetes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s01/" class="">1. Kubernetes Object</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s03/" class="">3. Workload&amp; Scheduling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s04/" class="">4. Node Mangament</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s05/" class="">5. ConfigMap&amp; Secret</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s06/" class="">6. Service</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s99/" class="">Kubernetes_Object_Table</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7d9fd2dc08b26f00abdd35e3b1797e96" class="toggle"  />
    <label for="section-7d9fd2dc08b26f00abdd35e3b1797e96" class="flex justify-between">
      <a href="/devops/docs/Kubernetes/Kubernetes/" class="">Kubernetes Training</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/0.-Resource/" class="">Requirements source</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/0.-Resource/file0/" class="">Manger Node</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7ba252a9329aac7d22c524d18f963071" class="toggle"  />
    <label for="section-7ba252a9329aac7d22c524d18f963071" class="flex justify-between">
      <a role="button" class="">Container Runtime</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-76cb5bff0df900bd36b4006e76af8b4b" class="toggle"  />
    <label for="section-76cb5bff0df900bd36b4006e76af8b4b" class="flex justify-between">
      <a role="button" class="">ContainerD</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/1.-Runtime/ContainerD/file0/" class=""> Concept</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/1.-Runtime/ContainerD/file1/" class=""> install</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f557dbe5e50e1dd6c1b563ee5e4c0b35" class="toggle"  />
    <label for="section-f557dbe5e50e1dd6c1b563ee5e4c0b35" class="flex justify-between">
      <a role="button" class="">Cluster Provisioning</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-25926ec69f28b767ca509abab062bc95" class="toggle"  />
    <label for="section-25926ec69f28b767ca509abab062bc95" class="flex justify-between">
      <a role="button" class="">Kubeadm</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/2.-Provisioning/Kubeadm/file0/" class="">Kubeadm Concept</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/2.-Provisioning/Kubeadm/file1/" class="">Kubeadm install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/2.-Provisioning/Kubeadm/file2/" class="">Kubeadm update</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fce4f55c7a5b7796107085f5b2ab19df" class="toggle"  />
    <label for="section-fce4f55c7a5b7796107085f5b2ab19df" class="flex justify-between">
      <a role="button" class="">Container Network Interface</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b359b84f77e007fd271f6290b624e7f9" class="toggle"  />
    <label for="section-b359b84f77e007fd271f6290b624e7f9" class="flex justify-between">
      <a role="button" class="">Calico</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/3.-CNI/Calico/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/3.-CNI/Calico/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-339f3081eaa318b86a71697346add33a" class="toggle"  />
    <label for="section-339f3081eaa318b86a71697346add33a" class="flex justify-between">
      <a role="button" class="">MetaLB</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/3.-CNI/MetalLB/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/3.-CNI/MetalLB/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1451a5955b64d10698a080f748ffa760" class="toggle"  />
    <label for="section-1451a5955b64d10698a080f748ffa760" class="flex justify-between">
      <a role="button" class="">Nginx</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/3.-CNI/Nginx/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/3.-CNI/Nginx/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c5714fd2d73245d764c72cbb75bd646c" class="toggle"  />
    <label for="section-c5714fd2d73245d764c72cbb75bd646c" class="flex justify-between">
      <a role="button" class="">Usability Tools</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-98ae6619cbfb7dd81b65820829fa18a3" class="toggle"  />
    <label for="section-98ae6619cbfb7dd81b65820829fa18a3" class="flex justify-between">
      <a role="button" class="">Helm</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/4.-Tools/Helm/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/4.-Tools/Helm/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-29fc06bed5e0b6dcc5a6449bd8792890" class="toggle"  />
    <label for="section-29fc06bed5e0b6dcc5a6449bd8792890" class="flex justify-between">
      <a role="button" class="">OpenLens</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/4.-Tools/OpenLens/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/4.-Tools/OpenLens/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9ea80fa917d8693bce5652dc88a44b5d" class="toggle"  />
    <label for="section-9ea80fa917d8693bce5652dc88a44b5d" class="flex justify-between">
      <a role="button" class="">Container Natvie Storage</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5143553db6ad01ab46b34bdb5ae47793" class="toggle"  />
    <label for="section-5143553db6ad01ab46b34bdb5ae47793" class="flex justify-between">
      <a role="button" class="">Rook Ceph</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/5.-CNS/Rook/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/5.-CNS/Rook/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-520451398a1978cb387e8f41311a315d" class="toggle"  />
    <label for="section-520451398a1978cb387e8f41311a315d" class="flex justify-between">
      <a role="button" class="">Backup and Restore Service</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2aaf360e86ece7b82124615e9be1bc30" class="toggle"  />
    <label for="section-2aaf360e86ece7b82124615e9be1bc30" class="flex justify-between">
      <a role="button" class="">Velero</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/6.-BR/Velero/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/6.-BR/Velero/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-420afe0c2baa095a7d7d3853fe4a6aa5" class="toggle"  />
    <label for="section-420afe0c2baa095a7d7d3853fe4a6aa5" class="flex justify-between">
      <a role="button" class="">Mesh Service</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-20992aa657b3c593fa097c007ec83432" class="toggle"  />
    <label for="section-20992aa657b3c593fa097c007ec83432" class="flex justify-between">
      <a role="button" class="">Istio</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/7.-Mesh/Istio/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/7.-Mesh/Istio/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f53521ae946be0f6c4cc70c35103c1f7" class="toggle"  />
    <label for="section-f53521ae946be0f6c4cc70c35103c1f7" class="flex justify-between">
      <a role="button" class="">Access Management Service</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fd32941c6624e7ff73cbf61e4c029066" class="toggle"  />
    <label for="section-fd32941c6624e7ff73cbf61e4c029066" class="flex justify-between">
      <a role="button" class="">Keycloak</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/8.-AMS/Keycloak/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/8.-AMS/Keycloak/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5cca75314b0d29b5827d18d644a1b1b7" class="toggle"  />
    <label for="section-5cca75314b0d29b5827d18d644a1b1b7" class="flex justify-between">
      <a role="button" class="">Key Management Service</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-da37603a4fb1d84f6c767de29fd182ac" class="toggle"  />
    <label for="section-da37603a4fb1d84f6c767de29fd182ac" class="flex justify-between">
      <a role="button" class="">Vault</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/9.-KMS/Vault/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/9.-KMS/Vault/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8b145d07bbe561861bc29142224623f1" class="toggle"  />
    <label for="section-8b145d07bbe561861bc29142224623f1" class="flex justify-between">
      <a role="button" class="">Container Images Managemet Service</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3c737a0a04640f930e3fdd4b32015b0d" class="toggle"  />
    <label for="section-3c737a0a04640f930e3fdd4b32015b0d" class="flex justify-between">
      <a role="button" class="">Harbor</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/10.-CIMS/Harbor/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/10.-CIMS/Harbor/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-158973f6f6a90ab85786cd946c4ba7e9" class="toggle"  />
    <label for="section-158973f6f6a90ab85786cd946c4ba7e9" class="flex justify-between">
      <a role="button" class="">Monitoring and Logging</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-be6877d344c243f0c5161e3efb99e361" class="toggle"  />
    <label for="section-be6877d344c243f0c5161e3efb99e361" class="flex justify-between">
      <a role="button" class="">Elasticsearch</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/11.-ML/Elasticsearch/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/11.-ML/Elasticsearch/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2bd994cb04ad2ee9c308224ddb7b4b6a" class="toggle"  />
    <label for="section-2bd994cb04ad2ee9c308224ddb7b4b6a" class="flex justify-between">
      <a role="button" class="">Fluentd</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/11.-ML/Fluentd/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/11.-ML/Fluentd/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2b55596e97e06d7f8d8e02c88ad726a8" class="toggle"  />
    <label for="section-2b55596e97e06d7f8d8e02c88ad726a8" class="flex justify-between">
      <a role="button" class="">Kibana</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/11.-ML/Kibana/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/11.-ML/Kibana/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4b773d825030c714b4e0ed275f0fde48" class="toggle"  />
    <label for="section-4b773d825030c714b4e0ed275f0fde48" class="flex justify-between">
      <a role="button" class="">CI/CD Pipeline</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4788f48aa887b1067b7ceaf152230ec0" class="toggle"  />
    <label for="section-4788f48aa887b1067b7ceaf152230ec0" class="flex justify-between">
      <a role="button" class="">ArgoCD</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/12.CI/CD/ArgoCD/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/12.CI/CD/ArgoCD/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f26ae1ccd2d8e6c775427f52c371aab6" class="toggle"  />
    <label for="section-f26ae1ccd2d8e6c775427f52c371aab6" class="flex justify-between">
      <a role="button" class="">Multi Cluster Management</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ad5a0a6e408d89320669e41fc5d412ad" class="toggle"  />
    <label for="section-ad5a0a6e408d89320669e41fc5d412ad" class="flex justify-between">
      <a role="button" class="">Karmada</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/13.-MCM/Karmada/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/13.-MCM/Karmada/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5a6e57feaa9bf9eb7ef4ec241f6efed9" class="toggle"  />
    <label for="section-5a6e57feaa9bf9eb7ef4ec241f6efed9" class="flex justify-between">
      <a role="button" class="">ETC</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b14c3d8579b7138947b83fcd695d4d9c" class="toggle"  />
    <label for="section-b14c3d8579b7138947b83fcd695d4d9c" class="flex justify-between">
      <a role="button" class="">임시폴더</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/99.-ETC/0/file1/" class=""> install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/Kubernetes/99.-ETC/0/file0/" class=""> Concept</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ca0379bbe3e2c5efff1bfc99a98b2f63" class="toggle"  />
    <label for="section-ca0379bbe3e2c5efff1bfc99a98b2f63" class="flex justify-between">
      <a role="button" class="">Cert</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/cert/cka/" class="">0. CKA</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/cert/ckad/" class="">1. CKAD</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d330600537e6c15d9d11713c82e2f760" class="toggle" checked />
    <label for="section-d330600537e6c15d9d11713c82e2f760" class="flex justify-between">
      <a role="button" class="">Kubernetes_Study</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/cks/cks00/" class="">1. CKS 시험정리</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Book Study</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/book/k8s/" class="">1. Kubernetes_환경구성</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>쿠버네티스 패턴</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/patten/k8s00/" class="">1. 분산 기본 요소</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/patten/k8s01/" class="">2. 예측 범위 내의 요구사항</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/patten/k8s02/" class="">3. 선언적 배포</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/patten/k8s03/" class="">4. 정상상태 점검</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/cks/cks10/" class="active">10. CKS 문제풀이 - Kodeklode</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/kube/cks/cks11/" class="">11. CKS 문제풀이 - killer.sh</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>FastAPI</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-138162738b8dda8fa57d9b62c5993d3f" class="toggle"  />
    <label for="section-138162738b8dda8fa57d9b62c5993d3f" class="flex justify-between">
      <a role="button" class="">FastAPI</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/fastapi/fastapi/fastapi00/" class="">0. FastAPI이란?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/fastapi/fastapi/fastapi01/" class="">1. FastAPI 기초 다지기</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/fastapi/fastapi/fastapi02/" class="">FastAPI Model</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/fastapi/fastapi/fastapi99/" class="">Fastapi99</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>10. CKS 문제풀이 - Kodeklode</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cks-kodekolud시험정리"><strong>CKS KodeKolud시험정리</strong></a></li>
        <li><a href="#lab-challenge-1"><strong>Lab-Challenge 1</strong></a></li>
        <li><a href="#문제-alpha-pvc-alpha-pv"><strong>문제 alpha-pvc, alpha-pv</strong></a>
          <ul>
            <li><a href="#문제풀이"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-apparmor"><strong>문제 Apparmor</strong></a>
          <ul>
            <li><a href="#문제풀이-1"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-1"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-images"><strong>문제 images</strong></a>
          <ul>
            <li><a href="#문제풀이-2"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-2"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-alpha-xyz"><strong>문제 alpha-xyz</strong></a>
          <ul>
            <li><a href="#문제풀이-3"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-3"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-alpha-svc"><strong>문제 alpha-svc</strong></a>
          <ul>
            <li><a href="#문제풀이-4"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-4"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-restirce-inboud"><strong>문제 restirce-inboud</strong></a>
          <ul>
            <li><a href="#문제풀이-5"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-5"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-dockerfilewebapp"><strong>문제 Dockerfile(webapp)</strong></a>
          <ul>
            <li><a href="#문제풀이-6"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-6"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-kubesec"><strong>문제 kubesec</strong></a>
          <ul>
            <li><a href="#문제풀이-7"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-7"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-staging-sebapp-dev-sebapp"><strong>문제 staging-sebapp, dev-sebapp</strong></a>
          <ul>
            <li><a href="#문제풀이-8"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-8"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-prod-web"><strong>문제 prod-web</strong></a>
          <ul>
            <li><a href="#문제풀이-9"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-9"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-prod-netpol"><strong>문제 prod-netpol</strong></a>
          <ul>
            <li><a href="#문제풀이-10"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-10"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#-lab--challenge-3"><strong># Lab- Challenge 3</strong></a></li>
        <li><a href="#문제-kube-bench"><strong>문제 kube-bench</strong></a>
          <ul>
            <li><a href="#문제풀이-11"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-11"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-kubelet"><strong>문제 kubelet</strong></a>
          <ul>
            <li><a href="#문제풀이-12"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-12"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-controlplan"><strong>문제 controlplan</strong></a>
          <ul>
            <li><a href="#문제풀이-13"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-13"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#-lab--challenge-4"><strong># Lab- Challenge 4</strong></a></li>
        <li><a href="#문제-">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-14"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-14"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--1">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-15"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-15"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--2">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-16"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-16"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--3">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-17"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-17"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--4">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-18"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-18"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--5">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-19"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-19"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--6">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-20"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-20"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--7">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-21"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-21"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><br>
<h2 id="cks-kodekolud시험정리">
  <strong>CKS KodeKolud시험정리</strong>
  <a class="anchor" href="#cks-kodekolud%ec%8b%9c%ed%97%98%ec%a0%95%eb%a6%ac">#</a>
</h2>
<hr>
<p>
  <a href="https://learn.kodekloud.com/user/courses/cks-challenges">Link</a></p>
<hr>
<br>
<h2 id="lab-challenge-1">
  <strong>Lab-Challenge 1</strong>
  <a class="anchor" href="#lab-challenge-1">#</a>
</h2>
<hr>
<ul>
<li>
<p>There are 6 images listed in the diagram on the right. Using <code>Aquasec Trivy</code> (which is already installed on the controlplane node), identify the image that has the least number of critical vulnerabilities and use it to deploy the <code>alpha-xyz</code> deployment.</p>
</li>
<li>
<p>Secure this deployment by enforcing the AppArmor profile called <code>custom-nginx</code>.</p>
</li>
<li>
<p>Expose this deployment with a <code>ClusterIP</code> type service and make sure that only incomings connections from the pod called <code>middleware</code> is accepted and everything else is rejected.</p>
</li>
<li>
<p>Click on each icon to see more details. Once done, click the <code>Check</code> button to test your work.</p>
</li>
</ul>
<hr>
<h2 id="문제-alpha-pvc-alpha-pv">
  <strong>문제 alpha-pvc, alpha-pv</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-alpha-pvc-alpha-pv">#</a>
</h2>
<ul>
<li>&lsquo;alpha-pvc&rsquo; should be bound to &lsquo;alpha-pv&rsquo;. Delete and Re-create it if necessary.</li>
<li>A persistentVolume called &lsquo;alpha-pv&rsquo; has already been created. Do not modify it and inspect the parameters used to create it.</li>
</ul>
<br>
<hr>
<h3 id="문제풀이">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  k get pv,pvc -n alpha 
</span></span><span style="display:flex;"><span>NAME                        CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM   STORAGECLASS    VOLUMEATTRIBUTESCLASS   REASON   AGE
</span></span><span style="display:flex;"><span>persistentvolume/alpha-pv   1Gi        RWX            Delete           Available           local-storage   &lt;unset&gt;                          2m56s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NAME                              STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS    VOLUMEATTRIBUTESCLASS   AGE
</span></span><span style="display:flex;"><span>persistentvolumeclaim/alpha-pvc   Pending                                      local-storage   &lt;unset&gt;                 2m56s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  k describe pvc -n alpha alpha-pvc 
</span></span><span style="display:flex;"><span>Name:          alpha-pvc
</span></span><span style="display:flex;"><span>Namespace:     alpha
</span></span><span style="display:flex;"><span>StorageClass:  local-storage
</span></span><span style="display:flex;"><span>Status:        Pending
</span></span><span style="display:flex;"><span>Volume:        
</span></span><span style="display:flex;"><span>Labels:        &lt;none&gt;
</span></span><span style="display:flex;"><span>Annotations:   &lt;none&gt;
</span></span><span style="display:flex;"><span>Finalizers:    <span style="color:#f92672">[</span>kubernetes.io/pvc-protection<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Capacity:      
</span></span><span style="display:flex;"><span>Access Modes:  
</span></span><span style="display:flex;"><span>VolumeMode:    Filesystem
</span></span><span style="display:flex;"><span>Used By:       &lt;none&gt;
</span></span><span style="display:flex;"><span>Events:
</span></span><span style="display:flex;"><span>  Type     Reason              Age                  From                         Message
</span></span><span style="display:flex;"><span>  ----     ------              ----                 ----                         -------
</span></span><span style="display:flex;"><span>  Warning  ProvisioningFailed  12s <span style="color:#f92672">(</span>x13 over 3m6s<span style="color:#f92672">)</span>  persistentvolume-controller  storageclass.storage.k8s.io <span style="color:#e6db74">&#34;local-storage&#34;</span> not found
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  k describe pv -n alpha alpha-pv 
</span></span><span style="display:flex;"><span>Name:              alpha-pv
</span></span><span style="display:flex;"><span>Labels:            &lt;none&gt;
</span></span><span style="display:flex;"><span>Annotations:       &lt;none&gt;
</span></span><span style="display:flex;"><span>Finalizers:        <span style="color:#f92672">[</span>kubernetes.io/pv-protection<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>StorageClass:      local-storage
</span></span><span style="display:flex;"><span>Status:            Available
</span></span><span style="display:flex;"><span>Claim:             
</span></span><span style="display:flex;"><span>Reclaim Policy:    Delete
</span></span><span style="display:flex;"><span>Access Modes:      RWX
</span></span><span style="display:flex;"><span>VolumeMode:        Filesystem
</span></span><span style="display:flex;"><span>Capacity:          1Gi
</span></span><span style="display:flex;"><span>Node Affinity:     
</span></span><span style="display:flex;"><span>  Required Terms:  
</span></span><span style="display:flex;"><span>    Term 0:        kubernetes.io/hostname in <span style="color:#f92672">[</span>controlplane<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Message:           
</span></span><span style="display:flex;"><span>Source:
</span></span><span style="display:flex;"><span>    Type:  LocalVolume <span style="color:#f92672">(</span>a persistent volume backed by local storage on a node<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    Path:  /data/pages
</span></span><span style="display:flex;"><span>Events:    &lt;none&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  k edit -n alpha pvc alpha-pvc 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  accessModes:
</span></span><span style="display:flex;"><span>  - ReadWriteOnce -&gt; ReadWriteMany
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>error: persistentvolumeclaims <span style="color:#e6db74">&#34;alpha-pvc&#34;</span> is invalid
</span></span><span style="display:flex;"><span>A copy of your changes has been stored to <span style="color:#e6db74">&#34;/tmp/kubectl-edit-868157181.yaml&#34;</span>
</span></span><span style="display:flex;"><span>error: Edit cancelled, no valid changes were saved.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ✖ k replace -f /tmp/kubectl-edit-868157181.yaml --grace-period <span style="color:#ae81ff">0</span> --force
</span></span><span style="display:flex;"><span>persistentvolumeclaim <span style="color:#e6db74">&#34;alpha-pvc&#34;</span> deleted
</span></span><span style="display:flex;"><span>persistentvolumeclaim/alpha-pvc replaced
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  k get pvc,pv -n alpha 
</span></span><span style="display:flex;"><span>NAME                              STATUS   VOLUME     CAPACITY   ACCESS MODES   STORAGECLASS    VOLUMEATTRIBUTESCLASS   AGE
</span></span><span style="display:flex;"><span>persistentvolumeclaim/alpha-pvc   Bound    alpha-pv   1Gi        RWX            local-storage   &lt;unset&gt;                 7s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NAME                        CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM             STORAGECLASS    VOLUMEATTRIBUTESCLASS   REASON   AGE
</span></span><span style="display:flex;"><span>persistentvolume/alpha-pv   1Gi        RWX            Delete           Bound    alpha/alpha-pvc   local-storage   &lt;unset&gt;                          5m20s
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d">#</a>
</h3>
<ul>
<li>
  <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">pv, pvc</a></li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-apparmor">
  <strong>문제 Apparmor</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-apparmor">#</a>
</h2>
<ul>
<li>
<p>Move the AppArmor profile &lsquo;/root/usr.sbin.nginx&rsquo; to &lsquo;/etc/apparmor.d/usr.sbin.nginx&rsquo; on the controlplane node</p>
</li>
<li>
<p>Load the &lsquo;AppArmor` profile called &lsquo;custom-nginx&rsquo; and ensure it is enforced.</p>
</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-1">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-1">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  ls
</span></span><span style="display:flex;"><span>alpha-xyz.yaml  snap  usr.sbin.nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  cat usr.sbin.nginx 
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include &lt;tunables/global&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>profile custom-nginx flags<span style="color:#f92672">=(</span>attach_disconnected,mediate_deleted<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#include &lt;abstractions/base&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  network inet tcp,
</span></span><span style="display:flex;"><span>  network inet udp,
</span></span><span style="display:flex;"><span>  network inet icmp,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  deny network raw,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  deny network packet,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  file,
</span></span><span style="display:flex;"><span>  umount,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  deny /bin/** wl,
</span></span><span style="display:flex;"><span>  deny /usr/share/nginx/html/restricted/* rw,
</span></span><span style="display:flex;"><span>  deny /boot/** wl,
</span></span><span style="display:flex;"><span>  deny /dev/** wl,
</span></span><span style="display:flex;"><span>  deny /etc/** wl,
</span></span><span style="display:flex;"><span>  deny /home/** wl,
</span></span><span style="display:flex;"><span>  deny /lib/** wl,
</span></span><span style="display:flex;"><span>  deny /lib64/** wl,
</span></span><span style="display:flex;"><span>  deny /media/** wl,
</span></span><span style="display:flex;"><span>  deny /mnt/** wl,
</span></span><span style="display:flex;"><span>  deny /opt/** wl,
</span></span><span style="display:flex;"><span>  deny /proc/** wl,
</span></span><span style="display:flex;"><span>  deny /root/** wl,
</span></span><span style="display:flex;"><span>  deny /sbin/** wl,
</span></span><span style="display:flex;"><span>  deny /srv/** wl,
</span></span><span style="display:flex;"><span>  deny /tmp/** wl,
</span></span><span style="display:flex;"><span>  deny /sys/** wl,
</span></span><span style="display:flex;"><span>  deny /usr/** wl,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  audit /** w,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  /var/run/nginx.pid w,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  /usr/sbin/nginx ix,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  deny /bin/dash mrwklx,
</span></span><span style="display:flex;"><span>  deny /bin/sh mrwklx,
</span></span><span style="display:flex;"><span>  deny /usr/bin/top mrwklx,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  capability chown,
</span></span><span style="display:flex;"><span>  capability dac_override,
</span></span><span style="display:flex;"><span>  capability setuid,
</span></span><span style="display:flex;"><span>  capability setgid,
</span></span><span style="display:flex;"><span>  capability net_bind_service,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  deny @<span style="color:#f92672">{</span>PROC<span style="color:#f92672">}</span>/<span style="color:#f92672">{</span>*,**^<span style="color:#f92672">[</span>0-9*<span style="color:#f92672">]</span>,sys/kernel/shm*<span style="color:#f92672">}</span> wkx,
</span></span><span style="display:flex;"><span>  deny @<span style="color:#f92672">{</span>PROC<span style="color:#f92672">}</span>/sysrq-trigger rwklx,
</span></span><span style="display:flex;"><span>  deny @<span style="color:#f92672">{</span>PROC<span style="color:#f92672">}</span>/mem rwklx,
</span></span><span style="display:flex;"><span>  deny @<span style="color:#f92672">{</span>PROC<span style="color:#f92672">}</span>/kmem rwklx,
</span></span><span style="display:flex;"><span>  deny @<span style="color:#f92672">{</span>PROC<span style="color:#f92672">}</span>/kcore rwklx,
</span></span><span style="display:flex;"><span>  deny mount,
</span></span><span style="display:flex;"><span>  deny /sys/<span style="color:#f92672">[</span>^f<span style="color:#f92672">]</span>*/** wklx,
</span></span><span style="display:flex;"><span>  deny /sys/f<span style="color:#f92672">[</span>^s<span style="color:#f92672">]</span>*/** wklx,
</span></span><span style="display:flex;"><span>  deny /sys/fs/<span style="color:#f92672">[</span>^c<span style="color:#f92672">]</span>*/** wklx,
</span></span><span style="display:flex;"><span>  deny /sys/fs/c<span style="color:#f92672">[</span>^g<span style="color:#f92672">]</span>*/** wklx,
</span></span><span style="display:flex;"><span>  deny /sys/fs/cg<span style="color:#f92672">[</span>^r<span style="color:#f92672">]</span>*/** wklx,
</span></span><span style="display:flex;"><span>  deny /sys/firmware/efi/efivars/** rwklx,
</span></span><span style="display:flex;"><span>  deny /sys/kernel/security/** rwklx,
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  cp -r usr.sbin.nginx /etc/apparmor.d/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  apparmor_parser /etc/apparmor.d/usr.sbin.nginx 
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-1">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-1">#</a>
</h3>
<ul>
<li>
  <a href="https://kubernetes.io/docs/tutorials/security/apparmor/">apparmor</a></li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-images">
  <strong>문제 images</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-images">#</a>
</h2>
<ul>
<li>Permitted images are: &lsquo;docker.io/library/nginx:alpine&rsquo;, &lsquo;docker.io/bitnami/nginx&rsquo;, &lsquo;docker.io/library/nginx:1.13&rsquo;, &lsquo;docker.io/library/nginx:1.17&rsquo;, &lsquo;docker.io/library/nginx:1.16&rsquo;and &lsquo;docker.io/library/nginx:1.14&rsquo;. Use &rsquo;trivy&rsquo; to find the image with the least number of &lsquo;CRITICAL&rsquo; vulnerabilities.</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-2">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-2">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  crictl images | grep nginx | awk <span style="color:#e6db74">&#39;{print $1&#34;:&#34;$2}&#39;</span> | xargs -I <span style="color:#f92672">{}</span> trivy image -s CRITICAL <span style="color:#f92672">{}</span> | egrep -i <span style="color:#e6db74">&#39;docker.io/library/nginx|total&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    Loaded  file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/etc/trivy/trivy.yaml&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>vuln<span style="color:#f92672">]</span> Vulnerability scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Secret scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> If your scanning is slow, please try <span style="color:#e6db74">&#39;--scanners vuln&#39;</span> to disable secret scanning
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Please see also https://aquasecurity.github.io/trivy/v0.57/docs/scanner/secret#recommendation <span style="color:#66d9ef">for</span> faster secret detection
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    Detected OS     family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;12.8&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>debian<span style="color:#f92672">]</span> Detecting vulnerabilities...   os_version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;12&#34;</span> pkg_num<span style="color:#f92672">=</span><span style="color:#ae81ff">107</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    Number of language-specific files       num<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>gobinary<span style="color:#f92672">]</span> Detecting vulnerabilities...
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>bitnami<span style="color:#f92672">]</span> Detecting vulnerabilities...
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    WARN    Using severities from other vendors <span style="color:#66d9ef">for</span> some vulnerabilities. Read https://aquasecurity.github.io/trivy/v0.57/docs/scanner/vulnerability#severity-selection <span style="color:#66d9ef">for</span> details.
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>CRITICAL: 1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    Loaded  file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/etc/trivy/trivy.yaml&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>vuln<span style="color:#f92672">]</span> Vulnerability scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Secret scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> If your scanning is slow, please try <span style="color:#e6db74">&#39;--scanners vuln&#39;</span> to disable secret scanning
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Please see also https://aquasecurity.github.io/trivy/v0.57/docs/scanner/secret#recommendation <span style="color:#66d9ef">for</span> faster secret detection
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    Detected OS     family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;9.4&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    <span style="color:#f92672">[</span>debian<span style="color:#f92672">]</span> Detecting vulnerabilities...   os_version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;9&#34;</span> pkg_num<span style="color:#f92672">=</span><span style="color:#ae81ff">108</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    INFO    Number of language-specific files       num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    WARN    Using severities from other vendors <span style="color:#66d9ef">for</span> some vulnerabilities. Read https://aquasecurity.github.io/trivy/v0.57/docs/scanner/vulnerability#severity-selection <span style="color:#66d9ef">for</span> details.
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    WARN    This OS version is no longer supported by the distribution      family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;9.4&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:54Z    WARN    The vulnerability detection may be insufficient because security updates are not provided
</span></span><span style="display:flex;"><span>docker.io/library/nginx:1.13 <span style="color:#f92672">(</span>debian 9.4<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">39</span> <span style="color:#f92672">(</span>CRITICAL: 39<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Loaded  file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/etc/trivy/trivy.yaml&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>vuln<span style="color:#f92672">]</span> Vulnerability scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Secret scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> If your scanning is slow, please try <span style="color:#e6db74">&#39;--scanners vuln&#39;</span> to disable secret scanning
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Please see also https://aquasecurity.github.io/trivy/v0.57/docs/scanner/secret#recommendation <span style="color:#66d9ef">for</span> faster secret detection
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Detected OS     family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;9.8&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>debian<span style="color:#f92672">]</span> Detecting vulnerabilities...   os_version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;9&#34;</span> pkg_num<span style="color:#f92672">=</span><span style="color:#ae81ff">108</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Number of language-specific files       num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    Using severities from other vendors <span style="color:#66d9ef">for</span> some vulnerabilities. Read https://aquasecurity.github.io/trivy/v0.57/docs/scanner/vulnerability#severity-selection <span style="color:#66d9ef">for</span> details.
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    This OS version is no longer supported by the distribution      family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;9.8&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    The vulnerability detection may be insufficient because security updates are not provided
</span></span><span style="display:flex;"><span>docker.io/library/nginx:1.14 <span style="color:#f92672">(</span>debian 9.8<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">31</span> <span style="color:#f92672">(</span>CRITICAL: 31<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Loaded  file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/etc/trivy/trivy.yaml&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>vuln<span style="color:#f92672">]</span> Vulnerability scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Secret scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> If your scanning is slow, please try <span style="color:#e6db74">&#39;--scanners vuln&#39;</span> to disable secret scanning
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Please see also https://aquasecurity.github.io/trivy/v0.57/docs/scanner/secret#recommendation <span style="color:#66d9ef">for</span> faster secret detection
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Detected OS     family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.3&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>debian<span style="color:#f92672">]</span> Detecting vulnerabilities...   os_version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10&#34;</span> pkg_num<span style="color:#f92672">=</span><span style="color:#ae81ff">118</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Number of language-specific files       num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    Using severities from other vendors <span style="color:#66d9ef">for</span> some vulnerabilities. Read https://aquasecurity.github.io/trivy/v0.57/docs/scanner/vulnerability#severity-selection <span style="color:#66d9ef">for</span> details.
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    This OS version is no longer supported by the distribution      family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.3&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    The vulnerability detection may be insufficient because security updates are not provided
</span></span><span style="display:flex;"><span>docker.io/library/nginx:1.16 <span style="color:#f92672">(</span>debian 10.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">42</span> <span style="color:#f92672">(</span>CRITICAL: 42<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Loaded  file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/etc/trivy/trivy.yaml&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>vuln<span style="color:#f92672">]</span> Vulnerability scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Secret scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> If your scanning is slow, please try <span style="color:#e6db74">&#39;--scanners vuln&#39;</span> to disable secret scanning
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Please see also https://aquasecurity.github.io/trivy/v0.57/docs/scanner/secret#recommendation <span style="color:#66d9ef">for</span> faster secret detection
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Detected OS     family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.4&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>debian<span style="color:#f92672">]</span> Detecting vulnerabilities...   os_version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10&#34;</span> pkg_num<span style="color:#f92672">=</span><span style="color:#ae81ff">118</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Number of language-specific files       num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    Using severities from other vendors <span style="color:#66d9ef">for</span> some vulnerabilities. Read https://aquasecurity.github.io/trivy/v0.57/docs/scanner/vulnerability#severity-selection <span style="color:#66d9ef">for</span> details.
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    This OS version is no longer supported by the distribution      family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.4&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    The vulnerability detection may be insufficient because security updates are not provided
</span></span><span style="display:flex;"><span>docker.io/library/nginx:1.17 <span style="color:#f92672">(</span>debian 10.4<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">42</span> <span style="color:#f92672">(</span>CRITICAL: 42<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Loaded  file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/etc/trivy/trivy.yaml&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>vuln<span style="color:#f92672">]</span> Vulnerability scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Secret scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> If your scanning is slow, please try <span style="color:#e6db74">&#39;--scanners vuln&#39;</span> to disable secret scanning
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Please see also https://aquasecurity.github.io/trivy/v0.57/docs/scanner/secret#recommendation <span style="color:#66d9ef">for</span> faster secret detection
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Detected OS     family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alpine&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3.20.5&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>alpine<span style="color:#f92672">]</span> Detecting vulnerabilities...   os_version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3.20&#34;</span> repository<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3.20&#34;</span> pkg_num<span style="color:#f92672">=</span><span style="color:#ae81ff">66</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Number of language-specific files       num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>docker.io/library/nginx:alpine <span style="color:#f92672">(</span>alpine 3.20.5<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>CRITICAL: 0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Loaded  file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/etc/trivy/trivy.yaml&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>vuln<span style="color:#f92672">]</span> Vulnerability scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Secret scanning is enabled
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> If your scanning is slow, please try <span style="color:#e6db74">&#39;--scanners vuln&#39;</span> to disable secret scanning
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>secret<span style="color:#f92672">]</span> Please see also https://aquasecurity.github.io/trivy/v0.57/docs/scanner/secret#recommendation <span style="color:#66d9ef">for</span> faster secret detection
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Detected OS     family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;debian&#34;</span> version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;12.7&#34;</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    <span style="color:#f92672">[</span>debian<span style="color:#f92672">]</span> Detecting vulnerabilities...   os_version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;12&#34;</span> pkg_num<span style="color:#f92672">=</span><span style="color:#ae81ff">149</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    INFO    Number of language-specific files       num<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>2025-02-04T01:02:55Z    WARN    Using severities from other vendors <span style="color:#66d9ef">for</span> some vulnerabilities. Read https://aquasecurity.github.io/trivy/v0.57/docs/scanner/vulnerability#severity-selection <span style="color:#66d9ef">for</span> details.
</span></span><span style="display:flex;"><span>docker.io/library/nginx:latest <span style="color:#f92672">(</span>debian 12.7<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Total: <span style="color:#ae81ff">2</span> <span style="color:#f92672">(</span>CRITICAL: 2<span style="color:#f92672">)</span>
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-2">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-2">#</a>
</h3>
<ul>
<li>
  <a href="https://trivy.dev/latest/docs/target/container_image/">trivy</a></li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-alpha-xyz">
  <strong>문제 alpha-xyz</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-alpha-xyz">#</a>
</h2>
<ul>
<li>
<p>Create a deployment called &lsquo;alpha-xyz&rsquo; that uses the image with the least &lsquo;CRITICAL&rsquo; vulnerabilities? (Use the sample YAML file located at &lsquo;/root/alpha-xyz.yaml&rsquo; to create the deployment. Please make sure to use the same names and labels specified in this sample YAML file!)</p>
</li>
<li>
<p>Deployment has exactly &lsquo;1&rsquo; ready replica</p>
</li>
<li>
<p>&lsquo;data-volume&rsquo; is mounted at &lsquo;/usr/share/nginx/html&rsquo; on the pod</p>
</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-3">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-3">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>apiVersion: apps/v1
</span></span><span style="display:flex;"><span>kind: Deployment
</span></span><span style="display:flex;"><span>metadata:
</span></span><span style="display:flex;"><span>  creationTimestamp: null
</span></span><span style="display:flex;"><span>  labels:
</span></span><span style="display:flex;"><span>    app: alpha-xyz
</span></span><span style="display:flex;"><span>  name: alpha-xyz
</span></span><span style="display:flex;"><span>  namespace: alpha
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  replicas: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  selector:
</span></span><span style="display:flex;"><span>    matchLabels:
</span></span><span style="display:flex;"><span>      app: alpha-xyz
</span></span><span style="display:flex;"><span>  strategy: <span style="color:#f92672">{}</span>
</span></span><span style="display:flex;"><span>  template:
</span></span><span style="display:flex;"><span>    metadata:
</span></span><span style="display:flex;"><span>      creationTimestamp: null
</span></span><span style="display:flex;"><span>      labels:
</span></span><span style="display:flex;"><span>        app: alpha-xyz
</span></span><span style="display:flex;"><span>    spec:
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># 볼륨 추가</span>
</span></span><span style="display:flex;"><span>      volumes:
</span></span><span style="display:flex;"><span>      - name: data-volume
</span></span><span style="display:flex;"><span>        persistentVolumeClaim:
</span></span><span style="display:flex;"><span>          claimName: alpha-pvc
</span></span><span style="display:flex;"><span>      containers:
</span></span><span style="display:flex;"><span>      - image: docker.io/library/nginx:alpine
</span></span><span style="display:flex;"><span>        name: nginx
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 볼륨 마운트 추가</span>
</span></span><span style="display:flex;"><span>        volumeMounts:
</span></span><span style="display:flex;"><span>        - name: data-volume
</span></span><span style="display:flex;"><span>          mountPath: <span style="color:#e6db74">&#39;/usr/share/nginx/html&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># apparmorprofile 적용</span>
</span></span><span style="display:flex;"><span>        securityContext:
</span></span><span style="display:flex;"><span>          appArmorProfile:
</span></span><span style="display:flex;"><span>            type: Localhost
</span></span><span style="display:flex;"><span>            localhostProfile: custom-nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  k apply -f alpha-xyz.yaml 
</span></span><span style="display:flex;"><span>deployment.apps/alpha-xyz created
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>root@controlplane ~ ➜  k get po -n alpha 
</span></span><span style="display:flex;"><span>NAME                         READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>alpha-xyz-8468fd578d-bdlc6   1/1     Running   <span style="color:#ae81ff">0</span>          8s
</span></span><span style="display:flex;"><span>external                     1/1     Running   <span style="color:#ae81ff">0</span>          30m
</span></span><span style="display:flex;"><span>middleware                   1/1     Running   <span style="color:#ae81ff">0</span>          30m
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-3">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-3">#</a>
</h3>
<ul>
<li>pv,pvc</li>
<li>apparmor</li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-alpha-svc">
  <strong>문제 alpha-svc</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-alpha-svc">#</a>
</h2>
<ul>
<li>Expose the &lsquo;alpha-xyz&rsquo; as a &lsquo;ClusterIP&rsquo; type service called &lsquo;alpha-svc&rsquo;</li>
<li>&lsquo;alpha-svc&rsquo; should be exposed on &lsquo;port: 80&rsquo; and &rsquo;targetPort: 80&rsquo;</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-4">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-4">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@controlplane ~ ➜  k expose deployment -n alpha alpha-xyz --type ClusterIP --name alpha-svc --port <span style="color:#ae81ff">80</span> --target-port <span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>service/alpha-svc exposed
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-4">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-4">#</a>
</h3>
<ul>
<li>(svc)[https://kubernetes.io/docs/concepts/services-networking/service/]</li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-restirce-inboud">
  <strong>문제 restirce-inboud</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-restirce-inboud">#</a>
</h2>
<ul>
<li>
<p>Create a NetworkPolicy called &lsquo;restrict-inbound&rsquo; in the &lsquo;alpha&rsquo; namespace</p>
</li>
<li>
<p>Policy Type = &lsquo;Ingress&rsquo;</p>
</li>
<li>
<p>Inbound access only allowed from the pod called &lsquo;middleware&rsquo; with label &lsquo;app=middleware&rsquo;</p>
</li>
<li>
<p>Inbound access only allowed to TCP port 80 on pods matching the policy</p>
</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-5">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-5">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@controlplane ~ ➜  k get deployments.apps --show-labels -n alpha 
</span></span><span style="display:flex;"><span>NAME        READY   UP-TO-DATE   AVAILABLE   AGE   LABELS
</span></span><span style="display:flex;"><span>alpha-xyz   1/1     <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>           14m   app<span style="color:#f92672">=</span>alpha-xyz
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create Networkpolicy</span>
</span></span><span style="display:flex;"><span>apiVersion: networking.k8s.io/v1
</span></span><span style="display:flex;"><span>kind: NetworkPolicy
</span></span><span style="display:flex;"><span>metadata:
</span></span><span style="display:flex;"><span>  name: restrict-inbound
</span></span><span style="display:flex;"><span>  namespace: alpha
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  podSelector:
</span></span><span style="display:flex;"><span>    matchLabels:
</span></span><span style="display:flex;"><span>      app: alpha-xyz
</span></span><span style="display:flex;"><span>  policyTypes:
</span></span><span style="display:flex;"><span>  - Ingress
</span></span><span style="display:flex;"><span>  ingress:
</span></span><span style="display:flex;"><span>  - from:
</span></span><span style="display:flex;"><span>    - podSelector:
</span></span><span style="display:flex;"><span>        matchLabels:
</span></span><span style="display:flex;"><span>          app: middleware
</span></span><span style="display:flex;"><span>    ports:
</span></span><span style="display:flex;"><span>    - protocol: TCP
</span></span><span style="display:flex;"><span>      port: <span style="color:#ae81ff">80</span>
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-5">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-5">#</a>
</h3>
<ul>
<li>(networkpolicy)[https://kubernetes.io/docs/concepts/services-networking/network-policies/]</li>
</ul>
<br>
<hr>
<hr>
<br>
<br>
## **# Lab- Challenge 2**
---
<ul>
<li>
<p>A number of applications have been deployed in the <code>dev</code>, <code>staging</code> and <code>prod</code> namespaces. There are a few security issues with these applications.</p>
</li>
<li>
<p>Inspect the issues in detail by clicking on the icons of the interactive architecture diagram on the right and complete the tasks to secure the applications. Once done click on the <code>Check</code> button to validate your work.</p>
</li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-dockerfilewebapp">
  <strong>문제 Dockerfile(webapp)</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-dockerfilewebapp">#</a>
</h2>
<ul>
<li>
<p>Run as non root(instead, use correct application user)</p>
</li>
<li>
<p>Avoid exposing unnecessary ports</p>
</li>
<li>
<p>Avoid copying the &lsquo;Dockerfile&rsquo; and other unnecessary files and directories in to the image. Move the required files and directories (app.py, requirements.txt and the templates directory) to a subdirectory called &lsquo;app&rsquo; under &lsquo;webapp&rsquo; and update the COPY instruction in the &lsquo;Dockerfile&rsquo; accordingly.</p>
</li>
<li>
<p>Once the security issues are fixed, rebuild this image locally with the tag &lsquo;controlplane:32766/kodekloud/webapp-color:stable&rsquo; and push it to the private registry using the <code>/root/push-to-registry.sh</code> script.</p>
</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-6">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-6">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>controlplane ~ ➜  cd webapp/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp via 🐍 v3.10.12 ➜  ls
</span></span><span style="display:flex;"><span>app.py  Dockerfile  requirements.txt  templates
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp via 🐍 v3.10.12 ➜  mkdir app
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp via 🐍 v3.10.12 ➜  mv app.py requirements.txt templates app/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp ➜  ls
</span></span><span style="display:flex;"><span>app  Dockerfile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp ➜  ls app/
</span></span><span style="display:flex;"><span>app.py  requirements.txt  templates
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp ➜  vi Dockerfile
</span></span><span style="display:flex;"><span>FROM python:3.6-alpine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Install Flask</span>
</span></span><span style="display:flex;"><span>RUN pip install flask
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Copy All files to /opt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 경로 수정</span>
</span></span><span style="display:flex;"><span>COPY ./app/ /opt/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Flask app to be exposed on port 8080</span>
</span></span><span style="display:flex;"><span>EXPOSE <span style="color:#ae81ff">8080</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Flask app to be run as &#39;worker&#39;</span>
</span></span><span style="display:flex;"><span>RUN adduser -D worker
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 불필요한 포트 삭제 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Expose port 22</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># EXPOSE 22</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WORKDIR /opt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 유저 변경</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># USER root</span>
</span></span><span style="display:flex;"><span>USER worker
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ENTRYPOINT <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;python&#34;</span>, <span style="color:#e6db74">&#34;app.py&#34;</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp ➜  docker build -t controlplane:32766/kodekloud/webapp-color:stable .
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Building 6.4s <span style="color:#f92672">(</span>10/10<span style="color:#f92672">)</span> FINISHED                                                                                   docker:default
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>internal<span style="color:#f92672">]</span> load build definition from Dockerfile                                                                           0.0s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">=</span>&gt; transferring dockerfile: 423B                                                                                           0.0s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>internal<span style="color:#f92672">]</span> load metadata <span style="color:#66d9ef">for</span> docker.io/library/python:3.6-alpine                                                           0.0s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>internal<span style="color:#f92672">]</span> load .dockerignore                                                                                              0.0s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">=</span>&gt; transferring context: 2B                                                                                                0.0s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>1/5<span style="color:#f92672">]</span> FROM docker.io/library/python:3.6-alpine                                                                             0.0s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>internal<span style="color:#f92672">]</span> load build context                                                                                              0.1s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">=</span>&gt; transferring context: 2.87kB                                                                                            0.1s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>2/5<span style="color:#f92672">]</span> RUN pip install flask                                                                                                5.3s
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>3/5<span style="color:#f92672">]</span> COPY ./app/ /opt/                                                                                                    0.1s 
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>4/5<span style="color:#f92672">]</span> RUN adduser -D worker                                                                                                0.6s 
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>5/5<span style="color:#f92672">]</span> WORKDIR /opt                                                                                                         0.0s 
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; exporting to image                                                                                                         0.3s 
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">=</span>&gt; exporting layers                                                                                                        0.3s 
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">=</span>&gt; writing image sha256:dc214fca8a2882becaa799d570d17e4305b2889674a758b4de8ce9986fafaf1d                                   0.0s 
</span></span><span style="display:flex;"><span> <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">=</span>&gt; naming to controlplane:32766/kodekloud/webapp-color:stable      
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp ✖ sh /root/push-to-registry.sh 
</span></span><span style="display:flex;"><span>Enter the Docker image name including the tag <span style="color:#f92672">(</span>e.g., my-image:stable<span style="color:#f92672">)</span>: controlplane:32766/kodekloud/webapp-color:stable
</span></span><span style="display:flex;"><span>Pushing the image controlplane:32766/kodekloud/webapp-color:stable to the private registry...
</span></span><span style="display:flex;"><span>The push refers to repository <span style="color:#f92672">[</span>controlplane:32766/kodekloud/webapp-color<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>5f70bf18a086: Pushed 
</span></span><span style="display:flex;"><span>894d6b1843fe: Pushed 
</span></span><span style="display:flex;"><span>a6089778dea2: Pushed 
</span></span><span style="display:flex;"><span>15fd41d33686: Pushed 
</span></span><span style="display:flex;"><span>3156423bd38f: Pushed 
</span></span><span style="display:flex;"><span>efa76becf38b: Pushed 
</span></span><span style="display:flex;"><span>671e3248113c: Pushed 
</span></span><span style="display:flex;"><span>1965cfbef2ab: Pushed 
</span></span><span style="display:flex;"><span>8d3ac3489996: Pushed 
</span></span><span style="display:flex;"><span>stable: digest: sha256:0212b518d962129c01ae2d256e9c229f381aebf3c3c649abb471cb25708983e5 size: <span style="color:#ae81ff">2201</span>
</span></span><span style="display:flex;"><span>Image successfully pushed to controlplane:32766/kodekloud/webapp-color:stable
</span></span><span style="display:flex;"><span>Done!
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-6">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-6">#</a>
</h3>
<ul>
<li>(dockerfile)[https://docs.docker.com/reference/dockerfile/]</li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-kubesec">
  <strong>문제 kubesec</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-kubesec">#</a>
</h2>
<ul>
<li>
<p>A number of applications have been deployed in the <code>dev</code>, <code>staging</code> and <code>prod</code> namespaces. There are a few security issues with these applications.</p>
</li>
<li>
<p>Inspect the issues in detail by clicking on the icons of the interactive architecture diagram on the right and complete the tasks to secure the applications. Once done click on the <code>Check</code> button to validate your work.</p>
</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-7">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-7">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp ➜  kubesec scan /root/dev-webapp.yaml 
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;object&#34;</span>: <span style="color:#e6db74">&#34;Pod/dev-webapp.dev&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;valid&#34;</span>: true,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;fileName&#34;</span>: <span style="color:#e6db74">&#34;/root/dev-webapp.yaml&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Failed with a score of -34 points&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;score&#34;</span>: -34,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;scoring&#34;</span>: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;critical&#34;</span>: <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;CapSysAdmin&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .securityContext .capabilities .add == SYS_ADMIN&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;CAP_SYS_ADMIN is the most privileged capability and should always be avoided&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: -30
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;AllowPrivilegeEscalation&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .securityContext .allowPrivilegeEscalation == true&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: -7
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;passed&#34;</span>: <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;ServiceAccountName&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;.spec .serviceAccountName&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Service accounts restrict Kubernetes API access and should be configured with least privilege&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;advise&#34;</span>: <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;ApparmorAny&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;.metadata .annotations .\&#34;container.apparmor.security.beta.kubernetes.io/nginx\&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Well defined AppArmor policies may provide greater protection from unknown threats. WARNING: NOT PRODUCTION READY&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;SeccompAny&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;.metadata .annotations .\&#34;container.seccomp.security.alpha.kubernetes.io/pod\&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Seccomp profiles set minimum privilege and secure against unknown threats&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;LimitsCPU&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .resources .limits .cpu&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Enforcing CPU limits prevents DOS via resource exhaustion&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;RequestsMemory&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .resources .limits .memory&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Enforcing memory limits prevents DOS via resource exhaustion&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;RequestsCPU&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .resources .requests .cpu&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Enforcing CPU requests aids a fair balancing of resources across the cluster&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;RequestsMemory&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .resources .requests .memory&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Enforcing memory requests aids a fair balancing of resources across the cluster&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;CapDropAny&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .securityContext .capabilities .drop&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Reducing kernel capabilities available to a container limits its attack surface&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;CapDropAll&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .securityContext .capabilities .drop | index(\&#34;ALL\&#34;)&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Drop all capabilities and add only those required to reduce syscall attack surface&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;ReadOnlyRootFilesystem&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .securityContext .readOnlyRootFilesystem == true&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;An immutable root filesystem can prevent malicious binaries being added to PATH and increase attack cost&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;RunAsNonRoot&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .securityContext .runAsNonRoot == true&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Force the running image to run as a non-root user to ensure least privilege&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;RunAsUser&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;selector&#34;</span>: <span style="color:#e6db74">&#34;containers[] .securityContext .runAsUser -gt 10000&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;reason&#34;</span>: <span style="color:#e6db74">&#34;Run as a high-UID user to avoid conflicts with the host&#39;s user table&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#34;points&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~/webapp ➜ vi /root/dev-webapp.yaml 
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  containers:
</span></span><span style="display:flex;"><span>  - env:
</span></span><span style="display:flex;"><span>    - name: APP_COLOR
</span></span><span style="display:flex;"><span>      value: darkblue
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 이미지 경로 수정</span>
</span></span><span style="display:flex;"><span>    image: controlplane:32766/kodekloud/webapp-color:stable
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 이미지정책 수정</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># imagePullPolicy: Never</span>
</span></span><span style="display:flex;"><span>    name: webapp-color
</span></span><span style="display:flex;"><span>    resources: <span style="color:#f92672">{}</span>
</span></span><span style="display:flex;"><span>    securityContext:
</span></span><span style="display:flex;"><span>      runAsUser: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># 컨테이너 권한 수정</span>
</span></span><span style="display:flex;"><span>      allowPrivilegeEscalation: false
</span></span><span style="display:flex;"><span>      capabilities:
</span></span><span style="display:flex;"><span>        add:
</span></span><span style="display:flex;"><span>        - NET_ADMIN
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># SYS_ADMIN 제외</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># - SYS_ADMIN</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># staging-webapp도 완전동일</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k replace -f dev-webapp.yaml --grace-period <span style="color:#ae81ff">0</span> --force
</span></span><span style="display:flex;"><span>pod <span style="color:#e6db74">&#34;dev-webapp&#34;</span> deleted
</span></span><span style="display:flex;"><span>pod/dev-webapp replaced
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k replace -f staging-webapp.yaml --grace-period <span style="color:#ae81ff">0</span> --force
</span></span><span style="display:flex;"><span>pod <span style="color:#e6db74">&#34;staging-webapp&#34;</span> deleted
</span></span><span style="display:flex;"><span>pod/staging-webapp replaced
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k get po -n dev 
</span></span><span style="display:flex;"><span>NAME         READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>dev-webapp   1/1     Running   <span style="color:#ae81ff">0</span>          22s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k get po -n staging 
</span></span><span style="display:flex;"><span>NAME             READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>staging-webapp   1/1     Running   <span style="color:#ae81ff">0</span>          13s
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-7">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-7">#</a>
</h3>
<ul>
<li>
  <a href="https://kubesec.io/">kubesec</a></li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-staging-sebapp-dev-sebapp">
  <strong>문제 staging-sebapp, dev-sebapp</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-staging-sebapp-dev-sebapp">#</a>
</h2>
<ul>
<li>
<p>This pod can be accessed using the &lsquo;kubectl exec&rsquo; command. We want to make sure that this does not happen. Use a startupProbe to remove all shells (sh and ash) before the container startup. Use &lsquo;initialDelaySeconds&rsquo; and &lsquo;periodSeconds&rsquo; of &lsquo;5&rsquo;. Hint: For this to work you would have to run the container as root!</p>
</li>
<li>
<p>This pod can be accessed using the &lsquo;kubectl exec&rsquo; command. We want to make sure that this does not happen. Use a startupProbe to remove all shells before the container startup. Use &lsquo;initialDelaySeconds&rsquo; and &lsquo;periodSeconds&rsquo; of &lsquo;5&rsquo;. Hint: For this to work you would have to run the container as root!</p>
</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-8">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-8">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>controlplane ~ ➜  k exec -it -n dev dev-webapp -- sh
</span></span><span style="display:flex;"><span>/opt <span style="color:#75715e"># cat /etc/shells </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># valid login shells</span>
</span></span><span style="display:flex;"><span>/bin/sh
</span></span><span style="display:flex;"><span>/bin/ash
</span></span><span style="display:flex;"><span>/opt <span style="color:#75715e"># exit</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  vi dev-webapp.yaml 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># startupProbe 추가</span>
</span></span><span style="display:flex;"><span>startupProbe:
</span></span><span style="display:flex;"><span>  exec:
</span></span><span style="display:flex;"><span>	command:
</span></span><span style="display:flex;"><span>	- rm
</span></span><span style="display:flex;"><span>	- /bin/sh
</span></span><span style="display:flex;"><span>	- /bin/ash
</span></span><span style="display:flex;"><span>  initialDelaySeconds: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>  periodSeconds: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k replace -f dev-webapp.yaml --grace-period <span style="color:#ae81ff">0</span> --force
</span></span><span style="display:flex;"><span>pod <span style="color:#e6db74">&#34;dev-webapp&#34;</span> deleted
</span></span><span style="display:flex;"><span>pod/dev-webapp replaced
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k replace -f staging-webapp.yaml --grace-period <span style="color:#ae81ff">0</span> --force
</span></span><span style="display:flex;"><span>pod <span style="color:#e6db74">&#34;staging-webapp&#34;</span> deleted
</span></span><span style="display:flex;"><span>pod/staging-webapp replaced
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k exec -it -n dev dev-webapp -- sh
</span></span><span style="display:flex;"><span>error: Internal error occurred: Internal error occurred: error executing command in container: failed to exec in container: failed to start exec <span style="color:#e6db74">&#34;0441ebc4a638af84271e897810fdfa006ca3cc9784a71960aaee85aaf0c60eac&#34;</span>: OCI runtime exec failed: exec failed: unable to start container process: exec: <span style="color:#e6db74">&#34;sh&#34;</span>: executable file not found in $PATH: unknown
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ✖ k exec -it -n dev dev-webapp -- ash
</span></span><span style="display:flex;"><span>error: Internal error occurred: Internal error occurred: error executing command in container: failed to exec in container: failed to start exec <span style="color:#e6db74">&#34;f027dbda48f04d4120caae8edfb95c172137b985a89ade1c3364f0767211a76b&#34;</span>: OCI runtime exec failed: exec failed: unable to start container process: exec: <span style="color:#e6db74">&#34;ash&#34;</span>: executable file not found in $PATH: unknown
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-8">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-8">#</a>
</h3>
<ul>
<li>(startupProbe)[https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/]
<br></li>
</ul>
<hr>
<hr>
<h2 id="문제-prod-web">
  <strong>문제 prod-web</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-prod-web">#</a>
</h2>
<ul>
<li>The deployment has a secret hardcoded. Instead, create a secret called &lsquo;prod-db&rsquo; for all the hardcoded values and consume the secret values as environment variables within the deployment.</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-9">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-9">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ontrolplane ~ ➜  k describe -n prod deployments.apps prod-web 
</span></span><span style="display:flex;"><span>Name:                   prod-web
</span></span><span style="display:flex;"><span>Namespace:              prod
</span></span><span style="display:flex;"><span>CreationTimestamp:      Tue, <span style="color:#ae81ff">04</span> Feb <span style="color:#ae81ff">2025</span> 01:41:19 +0000
</span></span><span style="display:flex;"><span>Labels:                 name<span style="color:#f92672">=</span>prod-web
</span></span><span style="display:flex;"><span>Annotations:            deployment.kubernetes.io/revision: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>Selector:               name<span style="color:#f92672">=</span>prod-web
</span></span><span style="display:flex;"><span>Replicas:               <span style="color:#ae81ff">1</span> desired | <span style="color:#ae81ff">1</span> updated | <span style="color:#ae81ff">1</span> total | <span style="color:#ae81ff">1</span> available | <span style="color:#ae81ff">0</span> unavailable
</span></span><span style="display:flex;"><span>StrategyType:           RollingUpdate
</span></span><span style="display:flex;"><span>MinReadySeconds:        <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>RollingUpdateStrategy:  25% max unavailable, 25% max surge
</span></span><span style="display:flex;"><span>Pod Template:
</span></span><span style="display:flex;"><span>  Labels:  name<span style="color:#f92672">=</span>prod-web
</span></span><span style="display:flex;"><span>  Containers:
</span></span><span style="display:flex;"><span>   webapp-mysql:
</span></span><span style="display:flex;"><span>    Image:      mmumshad/simple-webapp-mysql
</span></span><span style="display:flex;"><span>    Port:       8080/TCP
</span></span><span style="display:flex;"><span>    Host Port:  0/TCP
</span></span><span style="display:flex;"><span>    Environment:
</span></span><span style="display:flex;"><span>      DB_Host:      prod-db
</span></span><span style="display:flex;"><span>      DB_User:      root
</span></span><span style="display:flex;"><span>      DB_Password:  paswrd
</span></span><span style="display:flex;"><span>    Mounts:         &lt;none&gt;
</span></span><span style="display:flex;"><span>  Volumes:          &lt;none&gt;
</span></span><span style="display:flex;"><span>  Node-Selectors:   &lt;none&gt;
</span></span><span style="display:flex;"><span>  Tolerations:      &lt;none&gt;
</span></span><span style="display:flex;"><span>Conditions:
</span></span><span style="display:flex;"><span>  Type           Status  Reason
</span></span><span style="display:flex;"><span>  ----           ------  ------
</span></span><span style="display:flex;"><span>  Available      True    MinimumReplicasAvailable
</span></span><span style="display:flex;"><span>  Progressing    True    NewReplicaSetAvailable
</span></span><span style="display:flex;"><span>OldReplicaSets:  &lt;none&gt;
</span></span><span style="display:flex;"><span>NewReplicaSet:   prod-web-57f5468c56 <span style="color:#f92672">(</span>1/1 replicas created<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Events:
</span></span><span style="display:flex;"><span>  Type    Reason             Age   From                   Message
</span></span><span style="display:flex;"><span>  ----    ------             ----  ----                   -------
</span></span><span style="display:flex;"><span>  Normal  ScalingReplicaSet  30m   deployment-controller  Scaled up replica set prod-web-57f5468c56 to <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ✖ k create secret generic prod-db -n prod --from-literal DB_Host<span style="color:#f92672">=</span>prod-db --from-literal DB_User<span style="color:#f92672">=</span>root --from-literal DB_Passwo
</span></span><span style="display:flex;"><span>rd<span style="color:#f92672">=</span>paswrd
</span></span><span style="display:flex;"><span>secret/prod-db created
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>containers:
</span></span><span style="display:flex;"><span><span style="color:#75715e"># env 수정</span>
</span></span><span style="display:flex;"><span>- env:
</span></span><span style="display:flex;"><span>- name: DB_Host
</span></span><span style="display:flex;"><span>  valueFrom:
</span></span><span style="display:flex;"><span>	secretKeyRef:
</span></span><span style="display:flex;"><span>	  name: prod-db
</span></span><span style="display:flex;"><span>	  key: DB_Host
</span></span><span style="display:flex;"><span>- name: DB_User
</span></span><span style="display:flex;"><span>  valueFrom:
</span></span><span style="display:flex;"><span>	secretKeyRef:
</span></span><span style="display:flex;"><span>	  name: prod-db
</span></span><span style="display:flex;"><span>	  key: DB_User
</span></span><span style="display:flex;"><span>- name: DB_Password
</span></span><span style="display:flex;"><span>  valueFrom:
</span></span><span style="display:flex;"><span>	secretKeyRef:
</span></span><span style="display:flex;"><span>	  name: prod-db
</span></span><span style="display:flex;"><span>	  key: DB_Password
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k replace -f prod-web.yaml --grace-period <span style="color:#ae81ff">0</span> --force
</span></span><span style="display:flex;"><span>deployment.apps <span style="color:#e6db74">&#34;prod-web&#34;</span> deleted
</span></span><span style="display:flex;"><span>deployment.apps/prod-web replaced
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k get all -n prod 
</span></span><span style="display:flex;"><span>NAME                            READY   STATUS        RESTARTS   AGE
</span></span><span style="display:flex;"><span>pod/prod-db                     1/1     Running       <span style="color:#ae81ff">0</span>          39m
</span></span><span style="display:flex;"><span>pod/prod-web-75c596d645-lzrqc   1/1     Running       <span style="color:#ae81ff">0</span>          8s
</span></span><span style="display:flex;"><span>pod/prod-web-75c596d645-n5qml   1/1     Terminating   <span style="color:#ae81ff">0</span>          2m44s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NAME               TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>          AGE
</span></span><span style="display:flex;"><span>service/prod-db    ClusterIP   172.20.168.45    &lt;none&gt;        3306/TCP         39m
</span></span><span style="display:flex;"><span>service/prod-web   NodePort    172.20.204.159   &lt;none&gt;        8080:30081/TCP   39m
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NAME                       READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style="display:flex;"><span>deployment.apps/prod-web   1/1     <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>           8s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NAME                                  DESIRED   CURRENT   READY   AGE
</span></span><span style="display:flex;"><span>replicaset.apps/prod-web-75c596d645   <span style="color:#ae81ff">1</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-9">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-9">#</a>
</h3>
<ul>
<li>
  <a href="https://kubernetes.io/docs/concepts/configuration/secret/">secret</a></li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-prod-netpol">
  <strong>문제 prod-netpol</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-prod-netpol">#</a>
</h2>
<ul>
<li>Use a network policy called &lsquo;prod-netpol&rsquo; that will only allow traffic only within the &lsquo;prod&rsquo; namespace. All the traffic from other namespaces should be denied.</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-10">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-10">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k get ns --show-labels 
</span></span><span style="display:flex;"><span>NAME              STATUS   AGE     LABELS
</span></span><span style="display:flex;"><span>default           Active   7h38m   kubernetes.io/metadata.name<span style="color:#f92672">=</span>default
</span></span><span style="display:flex;"><span>dev               Active   46m     kubernetes.io/metadata.name<span style="color:#f92672">=</span>dev
</span></span><span style="display:flex;"><span>kube-node-lease   Active   7h38m   kubernetes.io/metadata.name<span style="color:#f92672">=</span>kube-node-lease
</span></span><span style="display:flex;"><span>kube-public       Active   7h38m   kubernetes.io/metadata.name<span style="color:#f92672">=</span>kube-public
</span></span><span style="display:flex;"><span>kube-system       Active   7h38m   kubernetes.io/metadata.name<span style="color:#f92672">=</span>kube-system
</span></span><span style="display:flex;"><span>prod              Active   46m     kubernetes.io/metadata.name<span style="color:#f92672">=</span>prod
</span></span><span style="display:flex;"><span>staging           Active   46m     kubernetes.io/metadata.name<span style="color:#f92672">=</span>staging
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  vi prod-netpol.yaml 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>apiVersion: networking.k8s.io/v1
</span></span><span style="display:flex;"><span>kind: NetworkPolicy
</span></span><span style="display:flex;"><span>metadata:
</span></span><span style="display:flex;"><span>  name: prod-netpol
</span></span><span style="display:flex;"><span>  namespace: prod
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  podSelector: <span style="color:#f92672">{}</span>
</span></span><span style="display:flex;"><span>  policyTypes:
</span></span><span style="display:flex;"><span>  - Ingress
</span></span><span style="display:flex;"><span>  ingress:
</span></span><span style="display:flex;"><span>  - from:
</span></span><span style="display:flex;"><span>    - namespaceSelector:
</span></span><span style="display:flex;"><span>        matchLabels:
</span></span><span style="display:flex;"><span>          kubernetes.io/metadata.name: prod
</span></span><span style="display:flex;"><span>      podSelector: <span style="color:#f92672">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  k apply -f prod-netpol.yaml 
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-10">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-10">#</a>
</h3>
<ul>
<li>(networlpolice)[https://kubernetes.io/docs/concepts/services-networking/network-policies/]</li>
</ul>
<br>
<hr>
<hr>
<br>
<h2 id="-lab--challenge-3">
  <strong># Lab- Challenge 3</strong>
  <a class="anchor" href="#-lab--challenge-3">#</a>
</h2>
<hr>
<ul>
<li>
<p>This is a two node kubernetes cluster. Using the <code>kube-bench</code> utility, identify and fix all the issues that were reported as failed for the controlplane and the worker node components.</p>
</li>
<li>
<p>Inspect the issues in detail by clicking on the icons of the interactive architecture diagram on the right and complete the tasks to secure the cluster. Once done click on the <code>Check</code> button to validate your work.</p>
</li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-kube-bench">
  <strong>문제 kube-bench</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-kube-bench">#</a>
</h2>
<ul>
<li>
<p>Download &lsquo;kube-bench&rsquo; from AquaSec for version <code>v0.8.0</code> and extract it under &lsquo;/opt&rsquo; filesystem. Use the appropriate steps from the <code>kube-bench docs</code> to complete this task.</p>
</li>
<li>
<p>Run &lsquo;kube-bench&rsquo; with config directory set to &lsquo;/opt/cfg&rsquo; and &lsquo;/opt/cfg/config.yaml&rsquo; as the config file. Redirect the result to &lsquo;/var/www/html/index.html&rsquo; file.</p>
</li>
</ul>
<br>
<hr>
<h3 id="문제풀이-11">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-11">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>controlplane ~ ➜  wget https://github.com/aquasecurity/kube-bench/releases/download/v0.8.0/kube-bench_0.8.0_linux_amd64.tar.gz
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ✖ tar -xvf kube-bench_0.8.0_linux_amd64.tar.gz -C /opt/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜ mkdir -p /var/www/html/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  /opt/kube-bench --config-dir /opt/cfg --config /opt/cfg/config.yaml &gt; /var/www/html/index.html
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  cat /var/www/html/index.html 
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-11">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-11">#</a>
</h3>
<ul>
<li>
  <a href="https://aquasecurity.github.io/kube-bench/v0.6.15/">kube-bench</a></li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-kubelet">
  <strong>문제 kubelet</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-kubelet">#</a>
</h2>
<ul>
<li>Ensure that the permissions of the kubelet config.yaml file are set to 600 (node01)
<br></li>
</ul>
<hr>
<h3 id="문제풀이-12">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-12">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  ssh node01
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>node01 ~ ✖ ls -al /var/lib/kubelet/config.yaml 
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">1104</span> Feb  <span style="color:#ae81ff">4</span> 03:34 /var/lib/kubelet/config.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>node01 ~ ➜  chmod <span style="color:#ae81ff">600</span> /var/lib/kubelet/config.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>node01 ~ ➜  ls -al /var/lib/kubelet/config.yaml 
</span></span><span style="display:flex;"><span>-rw------- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">1104</span> Feb  <span style="color:#ae81ff">4</span> 03:34 /var/lib/kubelet/config.yaml
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-12">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-12">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제-controlplan">
  <strong>문제 controlplan</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-controlplan">#</a>
</h2>
<ol>
<li>
<p>kube-controlooer-manger</p>
<ul>
<li>Ensure that the &ndash;profiling argument is set to false</li>
</ul>
</li>
<li>
<p>kube-scheduler</p>
<ul>
<li>Ensure that the &ndash;profiling argument is set to false</li>
</ul>
</li>
<li>
<p>etcd</p>
<ul>
<li>Correct the etcd data directory ownership</li>
</ul>
</li>
<li>
<p>kube-apiserver</p>
<ul>
<li>
<p>Ensure that the &ndash;profiling argument is set to false</p>
</li>
<li>
<p>Ensure that the &ndash;audit-log-path argument is set to /var/log/apiserver/audit.log</p>
</li>
<li>
<p>Ensure that the &ndash;audit-log-maxage argument is set to 30</p>
</li>
<li>
<p>Ensure that the &ndash;audit-log-maxbackup argument is set to 10</p>
</li>
<li>
<p>Ensure that the &ndash;audit-log-maxsize argument is set to 100
<br></p>
</li>
</ul>
</li>
</ol>
<hr>
<h3 id="문제풀이-13">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-13">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1. kube-controlooer-manger</span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  vi /etc/kubernetes/manifests/kube-controller-manager.yaml 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  containers:
</span></span><span style="display:flex;"><span>  - command:
</span></span><span style="display:flex;"><span>    - kube-controller-manager
</span></span><span style="display:flex;"><span>    - --allocate-node-cidrs<span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 추가</span>
</span></span><span style="display:flex;"><span>    - --profiling<span style="color:#f92672">=</span>false
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. kube-scheduler</span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  vi /etc/kubernetes/manifests/kube-scheduler.yaml 
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  containers:
</span></span><span style="display:flex;"><span>  - command:
</span></span><span style="display:flex;"><span>    - kube-scheduler
</span></span><span style="display:flex;"><span>    - --authentication-kubeconfig<span style="color:#f92672">=</span>/etc/kubernetes/scheduler.conf
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 추가</span>
</span></span><span style="display:flex;"><span>    - --profiling<span style="color:#f92672">=</span>false
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3. etcd</span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  cat /etc/kubernetes/manifests/etcd.yaml 
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  containers:
</span></span><span style="display:flex;"><span>  - command:
</span></span><span style="display:flex;"><span>    - etcd
</span></span><span style="display:flex;"><span>    - --advertise-client-urls<span style="color:#f92672">=</span>https://192.168.211.152:2379
</span></span><span style="display:flex;"><span>    - --cert-file<span style="color:#f92672">=</span>/etc/kubernetes/pki/etcd/server.crt
</span></span><span style="display:flex;"><span>    - --client-cert-auth<span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 디렉터리 경로 확인</span>
</span></span><span style="display:flex;"><span>    - --data-dir<span style="color:#f92672">=</span>/var/lib/etcd 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  ls -al /var/lib/ | grep etcd
</span></span><span style="display:flex;"><span>drwx------  <span style="color:#ae81ff">3</span> etcd root <span style="color:#ae81ff">4096</span> Feb  <span style="color:#ae81ff">4</span> 03:34 etcd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  chown etcd:etcd /var/lib/etcd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  ls -al /var/lib/ | grep etcd
</span></span><span style="display:flex;"><span>drwx------  <span style="color:#ae81ff">3</span> etcd etcd <span style="color:#ae81ff">4096</span> Feb  <span style="color:#ae81ff">4</span> 03:34 etcd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4. kube-apiserver</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  mkdir -p /var/log/apiserver/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlplane ~ ➜  vi /etc/kubernetes/manifests/kube-apiserver.yaml 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>  containers:
</span></span><span style="display:flex;"><span>  - command:
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># 추가</span>
</span></span><span style="display:flex;"><span>    - --profiling<span style="color:#f92672">=</span>false
</span></span><span style="display:flex;"><span>    - --audit-log-path<span style="color:#f92672">=</span>/var/log/apiserver/audit.log
</span></span><span style="display:flex;"><span>    - --audit-log-maxage<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>    - --audit-log-maxbackup<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    - --audit-log-maxsize<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>  - volumeMounts:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 볼륨 마운트 추가</span>
</span></span><span style="display:flex;"><span>    - mountPath: /var/log/apiserver/audit.log
</span></span><span style="display:flex;"><span>      name: audit
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  volumes:
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># 볼륨추가</span>
</span></span><span style="display:flex;"><span>  - hostPath:
</span></span><span style="display:flex;"><span>      path: /var/log/apiserver/audit.log
</span></span><span style="display:flex;"><span>      type: FileOrCreate
</span></span><span style="display:flex;"><span>    name: audit
</span></span></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-13">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-13">#</a>
</h3>
<ul>
<li>
  <a href="/devops/">volume</a></li>
</ul>
<br>
<hr>
<hr>
<br>
<h2 id="-lab--challenge-4">
  <strong># Lab- Challenge 4</strong>
  <a class="anchor" href="#-lab--challenge-4">#</a>
</h2>
<hr>
<ul>
<li></li>
</ul>
<br>
<hr>
<hr>
<h2 id="문제-">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c-">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-14">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-14">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-14">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-14">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제--1">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c--1">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-15">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-15">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-15">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-15">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제--2">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c--2">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-16">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-16">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-16">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-16">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제--3">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c--3">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-17">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-17">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-17">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-17">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제--4">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c--4">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-18">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-18">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-18">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-18">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제--5">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c--5">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-19">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-19">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-19">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-19">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제--6">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c--6">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-20">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-20">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-20">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-20">#</a>
</h3>
<br>
<hr>
<hr>
<h2 id="문제--7">
  **문제 **
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c--7">#</a>
</h2>
<br>
<hr>
<h3 id="문제풀이-21">
  <strong>문제풀이</strong>
  <a class="anchor" href="#%eb%ac%b8%ec%a0%9c%ed%92%80%ec%9d%b4-21">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"></code></pre></div><br>
<hr>
<h3 id="사용기술-스택-21">
  <strong>사용기술 스택</strong>
  <a class="anchor" href="#%ec%82%ac%ec%9a%a9%ea%b8%b0%ec%88%a0-%ec%8a%a4%ed%83%9d-21">#</a>
</h3>
<br>
<hr>
<hr>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/mungOps/mung/commit/13caafa9f7dbbfc1ac370cc1f3a859828e67d04e" title='Last modified by mungOps | December, 2025' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>December, 2025</span>
    </a>
  </div>







  <div><a class="flex align-center" href="https://github.com/mungOps/mung/blob/main/content/Devops/docs/Kubernetes/kube/cks/cks10.md" target="_blank" rel="noopener">
          <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">
<div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "mungdocs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cks-kodekolud시험정리"><strong>CKS KodeKolud시험정리</strong></a></li>
        <li><a href="#lab-challenge-1"><strong>Lab-Challenge 1</strong></a></li>
        <li><a href="#문제-alpha-pvc-alpha-pv"><strong>문제 alpha-pvc, alpha-pv</strong></a>
          <ul>
            <li><a href="#문제풀이"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-apparmor"><strong>문제 Apparmor</strong></a>
          <ul>
            <li><a href="#문제풀이-1"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-1"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-images"><strong>문제 images</strong></a>
          <ul>
            <li><a href="#문제풀이-2"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-2"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-alpha-xyz"><strong>문제 alpha-xyz</strong></a>
          <ul>
            <li><a href="#문제풀이-3"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-3"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-alpha-svc"><strong>문제 alpha-svc</strong></a>
          <ul>
            <li><a href="#문제풀이-4"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-4"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-restirce-inboud"><strong>문제 restirce-inboud</strong></a>
          <ul>
            <li><a href="#문제풀이-5"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-5"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-dockerfilewebapp"><strong>문제 Dockerfile(webapp)</strong></a>
          <ul>
            <li><a href="#문제풀이-6"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-6"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-kubesec"><strong>문제 kubesec</strong></a>
          <ul>
            <li><a href="#문제풀이-7"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-7"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-staging-sebapp-dev-sebapp"><strong>문제 staging-sebapp, dev-sebapp</strong></a>
          <ul>
            <li><a href="#문제풀이-8"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-8"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-prod-web"><strong>문제 prod-web</strong></a>
          <ul>
            <li><a href="#문제풀이-9"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-9"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-prod-netpol"><strong>문제 prod-netpol</strong></a>
          <ul>
            <li><a href="#문제풀이-10"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-10"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#-lab--challenge-3"><strong># Lab- Challenge 3</strong></a></li>
        <li><a href="#문제-kube-bench"><strong>문제 kube-bench</strong></a>
          <ul>
            <li><a href="#문제풀이-11"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-11"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-kubelet"><strong>문제 kubelet</strong></a>
          <ul>
            <li><a href="#문제풀이-12"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-12"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제-controlplan"><strong>문제 controlplan</strong></a>
          <ul>
            <li><a href="#문제풀이-13"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-13"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#-lab--challenge-4"><strong># Lab- Challenge 4</strong></a></li>
        <li><a href="#문제-">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-14"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-14"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--1">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-15"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-15"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--2">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-16"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-16"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--3">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-17"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-17"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--4">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-18"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-18"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--5">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-19"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-19"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--6">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-20"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-20"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
        <li><a href="#문제--7">**문제 **</a>
          <ul>
            <li><a href="#문제풀이-21"><strong>문제풀이</strong></a></li>
            <li><a href="#사용기술-스택-21"><strong>사용기술 스택</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  <script id="dsq-count-scr" src="//mungdocs-1.disqus.com/count.js" async></script>

</body>
</html>












