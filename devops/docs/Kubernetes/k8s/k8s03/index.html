<!DOCTYPE html>
<html lang="devops" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Kubernetes#Workload&amp; Scheduling##Pod#Pod란 컨테이너를 표현하는 kubernetstis의 최소 단위 파드는 특유한 &ldquo;로컬호스트&rdquo; 애플리케이션 모형 을 만들어. 상대적으로 밀접하게 결합되어진 상이한 애플리케이션 컨테이너들을 수용하는 역할을 수행
파드 내 컨테이너는 IP 주소, 그리고 포트 스페이스를 공유 및 스케쥴링 되며 동일 노드 상의 컨텍스트를 공유하면서 동작
즉, POD는 다양한 목적에 맞게 App을 배포하고 관리 하는 역할을 수행
POD의 지속적인 배포, 오케스트레이션 역할 수행이 필요할 시 Replicaset, Deployment 사용">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="3. Workload&amp; Scheduling" />
<meta property="og:description" content="Kubernetes#Workload&amp; Scheduling##Pod#Pod란 컨테이너를 표현하는 kubernetstis의 최소 단위 파드는 특유한 &ldquo;로컬호스트&rdquo; 애플리케이션 모형 을 만들어. 상대적으로 밀접하게 결합되어진 상이한 애플리케이션 컨테이너들을 수용하는 역할을 수행
파드 내 컨테이너는 IP 주소, 그리고 포트 스페이스를 공유 및 스케쥴링 되며 동일 노드 상의 컨텍스트를 공유하면서 동작
즉, POD는 다양한 목적에 맞게 App을 배포하고 관리 하는 역할을 수행
POD의 지속적인 배포, 오케스트레이션 역할 수행이 필요할 시 Replicaset, Deployment 사용" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://mungdocs.kro.kr/devops/docs/Kubernetes/k8s/k8s03/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2024-02-22T18:05:40+09:00" />

<title>3. Workload&amp; Scheduling | Mung Book</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.aea6768613e0e26eeea790725523cd6a2a8cdfc97995017b2baa46ecdbbef5bd.css" integrity="sha256-rqZ2hhPg4m7up5ByVSPNaiqM38l5lQF7K6pG7Nu&#43;9b0=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/devops.search.min.2f8bf04b09bd3edfd5db78ffdaf8151a4db1fe392a65b5c2068ddd93514d8856.js" integrity="sha256-L4vwSwm9Pt/V23j/2vgVGk2x/jkqZbXCBo3dk1FNiFY=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="http://mungdocs.kro.kr"><img src="/svg/book.svg"
    class="book-icon" /><span>Mung Book</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="" aria-label="" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  
                 

<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/svg/links-fill.svg" class="book-icon" /> DevOps
      </a>
    </label>

    <ul>
      
      <li>
        <a href="http://mungdocs.kro.kr/"> Main </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/cloud/"> Cloud </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/system/"> System </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/network/"> Network </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/database/"> Database </a>
      </li>
      
      <li>
        <a href="http://mungdocs.kro.kr/programing/"> Programing </a>
      </li>
      
    </ul>
  </li>
</ul>






  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>CI/CD</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-801d5d1866a46a16c0782881d41229a4" class="toggle"  />
    <label for="section-801d5d1866a46a16c0782881d41229a4" class="flex justify-between">
      <a role="button" class="">CI/CD 배포 입문</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/git00/" class="">0. Git이란?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/with-toc/" class="">1. 학습목표</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/key/" class="">암호화</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/table-of-contents/" class="">Table of Contents</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/CICD/CICD/table-of-contents/with-toc/" class="">With ToC</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Docker</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c5b7d507618bef21daeb5f927f7ec27b" class="toggle"  />
    <label for="section-c5b7d507618bef21daeb5f927f7ec27b" class="flex justify-between">
      <a role="button" class="">Docker</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker00/" class="">0. Docker&amp; Container</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker01/" class="">1. Docker 기본 명령어</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker02/" class="">2. Docker Registry</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker03/" class="">3. Dockerfile&amp; Compose</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Docker/Docker/Docker04/" class="">4. Docker 실습</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Git</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-56eb593fbeb96bb79b838c0ea2af4bc6" class="toggle"  />
    <label for="section-56eb593fbeb96bb79b838c0ea2af4bc6" class="flex justify-between">
      <a role="button" class="">Git</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Git/Git/git00/" class="">0. Git이란?</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Kubernetes</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-88e82c90b0cd3699ff5025428c7eb95a" class="toggle" checked />
    <label for="section-88e82c90b0cd3699ff5025428c7eb95a" class="flex justify-between">
      <a role="button" class="">Kubernetes</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s/" class="">0. Kubernetes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s00/" class="">0. Kubernetes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s01/" class="">1. Kubernetes Object</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s03/" class="active">3. Workload&amp; Scheduling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s04/" class="">4. Node Mangament</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s05/" class="">5. ConfigMap&amp; Secret</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s06/" class="">6. Service</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/k8s/k8s99/" class="">Kubernetes_Object_Table</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dcaffd84d1ea6b9dbc5428438c445ae2" class="toggle"  />
    <label for="section-dcaffd84d1ea6b9dbc5428438c445ae2" class="flex justify-between">
      <a role="button" class="">CKA</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/CKA/CKA/" class="">0. CKA</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/CKA/CKA00/" class="">1. Cluster Architecture 문제풀이</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/CKA/CKA01/" class="">2. Installation &amp; Configuration 문제풀이</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/CKA/CKA02/" class="">3. Workloads&amp; Scheduling 문제풀이</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/CKA/CKA03/" class="">4. Service&amp; Networking 문제풀이</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/CKA/CKA04/" class="">5. Storage 문제풀이</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/devops/docs/Kubernetes/CKA/CKA05/" class="">6. TroubleShooting 문제풀이</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>3. Workload&amp; Scheduling</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#kubernetes">Kubernetes</a>
      <ul>
        <li><a href="#workload-scheduling"><strong>Workload&amp; Scheduling</strong></a></li>
      </ul>
    </li>
    <li><a href="#heading"></a>
      <ul>
        <li>
          <ul>
            <li><a href="#podhttpskubernetesiokodocsconceptsworkloadspods"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/pods/"><strong>Pod</strong></a></strong></a></li>
          </ul>
        </li>
        <li><a href="#쿠버네티스-리소스"><strong>쿠버네티스 리소스</strong></a>
          <ul>
            <li><a href="#replicasethttpskubernetesiokodocsconceptsworkloadscontrollersreplicaset"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/replicaset/">ReplicaSet</a></strong></a></li>
            <li><a href="#deploymenthttpskubernetesiokodocsconceptsworkloadscontrollersdeployment"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/deployment/">Deployment</a></strong></a></li>
            <li><a href="#daemonsethttpskubernetesiokodocsconceptsworkloadscontrollersdaemonset"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/daemonset/">DaemonSet</a></strong></a></li>
            <li><a href="#statefulsethttpskubernetesiokodocsconceptsworkloadscontrollersstatefulset"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/statefulset/">StatefulSet</a></strong></a></li>
            <li><a href="#jobhttpskubernetesiokodocsconceptsworkloadscontrollersjob"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/job/">Job</a></strong></a></li>
            <li><a href="#cronjobhttpskubernetesiokodocsconceptsworkloadscontrollerscron-jobsed81aceba1a0ec9ea1"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/cron-jobs/#%ED%81%AC%EB%A1%A0%EC%9E%A1">CronJob</a></strong></a></li>
          </ul>
        </li>
        <li><a href="#쿠버네티스-접근법"><strong>쿠버네티스 접근법</strong></a>
          <ul>
            <li><a href="#명령형-imperative-접근"><strong>명령형 (Imperative) 접근</strong></a></li>
            <li><a href="#선언형-declarative-접근"><strong>선언형 (Declarative) 접근</strong></a></li>
            <li><a href="#활성-객체-설정-live-object-configuration"><strong>활성 객체 설정 (Live Object Configuration)</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#heading-1"></a>
      <ul>
        <li><a href="#references">References</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="kubernetes">
  Kubernetes
  <a class="anchor" href="#kubernetes">#</a>
</h1>
<hr>
<h2 id="workload-scheduling">
  <strong>Workload&amp; Scheduling</strong>
  <a class="anchor" href="#workload-scheduling">#</a>
</h2>
<h1 id="heading">
  
  <a class="anchor" href="#heading">#</a>
</h1>
<h3 id="podhttpskubernetesiokodocsconceptsworkloadspods">
  <strong>
  <a href="https://kubernetes.io/ko/docs/concepts/workloads/pods/"><strong>Pod</strong></a></strong>
  <a class="anchor" href="#podhttpskubernetesiokodocsconceptsworkloadspods">#</a>
</h3>
<div class="book-columns flex flex-wrap">

  <div class="flex-even markdown-inner">
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FmxXst%2FbtsDnEFYa3r%2FOXjqnGkv7KeZyIkWQgYOa0%2Fimg.png" alt="" />
  </div>

  <div class="flex-even markdown-inner">
    <img src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*WHXv2Z0bBfC7GW4egoIwTw.png" alt="" />
  </div>

</div>

<ul>
<li>
<p>Pod란 컨테이너를 표현하는 <span style='background-color: #BFFFFF'> <strong>kubernetstis의 최소 단위</strong> </span></p>
</li>
<li>
<p>파드는 특유한 <span style='background-color: #BFFFFF'> <strong>&ldquo;로컬호스트&rdquo; 애플리케이션 모형</strong></span> 을 만들어. 상대적으로 밀접하게 결합되어진 상이한 애플리케이션 컨테이너들을 수용하는 역할을 수행</p>
</li>
<li>
<p>파드 내 컨테이너는 IP 주소, 그리고 포트 스페이스를 공유 및 스케쥴링 되며 동일 노드 상의 컨텍스트를 공유하면서 동작</p>
</li>
</ul>
<br>
<br>
<div class="book-columns flex flex-wrap">

  <div class="flex-even markdown-inner">
    <img src="https://kubernetes.io/docs/tutorials/kubernetes-basics/public/images/module_03_nodes.svg" alt="" />
  </div>

  <div class="flex-even markdown-inner">
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FDL7NK%2FbtsDogSmdAu%2FIxlfJTta5cZKOv85Ajdlk0%2Fimg.png" alt="" />
  </div>

</div>

<ul>
<li>
<p>즉, <span style='background-color: #BFFFFF'><strong>POD는 다양한 목적에 맞게 App을 배포하고 관리</strong></span> 하는 역할을 수행</p>
</li>
<li>
<p>POD의 <span style='background-color: #BFFFFF'><strong>지속적인 배포, 오케스트레이션 역할 수행이 필요할 시 Replicaset, Deployment 사용</strong></span></p>
</li>
<li>
<p><span style='background-color: #BFFFFF'><strong>노드 단위 시스템으로 모든 노드에서 동일한 파드를 유지하도록 보장 통합 DaemonSet</strong></span></p>
</li>
<li>
<p>특정 DB와 같이 POD 생성 시에, <span style='background-color: #BFFFFF'><strong>노드 및 특정 Volume이 필요 시 StatefulSet</strong></span></p>
</li>
<li>
<p>1회성 작업 Job, 주기적인 배치 작업 Cronjob</p>
</li>
</ul>
<br>
<br>
<h2 id="쿠버네티스-리소스">
  <strong>쿠버네티스 리소스</strong>
  <a class="anchor" href="#%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%eb%a6%ac%ec%86%8c%ec%8a%a4">#</a>
</h2>
<p>
  <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fb28E5g%2FbtsDrJevUmU%2FQM65hrAjZ3meaLOmqkzPi1%2Fimg.png" alt="" /></p>
<ul>
<li>각 리소스는 파드를 관리 최소 단위로 하여 상위 리소스가 자식 리소스를 관리한다. 예를 들어, Deployment는 ReplicaSet을 관리한고, 다시 ReplicaSet은 Pod를 관리하는 역할을 수행</li>
</ul>
<br>
<h3 id="replicasethttpskubernetesiokodocsconceptsworkloadscontrollersreplicaset">
  <strong>
  <a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/replicaset/">ReplicaSet</a></strong>
  <a class="anchor" href="#replicasethttpskubernetesiokodocsconceptsworkloadscontrollersreplicaset">#</a>
</h3>
<ul>
<li>
<p>Replicaset은 지정한 숫자만큼파드가 실행하도록 관리하는 가장 기본적인 컨트롤러</p>
</li>
<li>
<p>ReplicaSets는 Replication Controller의 발전된 형태이며 집합기반의 셀렉터를 지원</p>
</li>
<li>
<p>집합기반(in, notin, exists) 같은 집합연산자를 지원하여 명시된 셀렉터 조건에 맞는 새로운 파드도 직접적으로 관리</p>
</li>
</ul>
<br>
<h3 id="deploymenthttpskubernetesiokodocsconceptsworkloadscontrollersdeployment">
  <strong>
  <a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/deployment/">Deployment</a></strong>
  <a class="anchor" href="#deploymenthttpskubernetesiokodocsconceptsworkloadscontrollersdeployment">#</a>
</h3>
<ul>
<li>
<p>디플로이먼트(Deployment)는 파드와 레플리카셋(ReplicaSet)에 대한 선언적 업데이트를 제공</p>
</li>
<li>
<p>쿠버네티스에서 상태가 없는(stateless) 앱을 배포할 때 사용하는 가장 기본적인 컨트롤러</p>
</li>
<li>
<p>Deployment는 유지해야할 Pod 개수만이 아니라 배포 방법에 대한 세부적인 기능을 수행할 수 있다. 앱을 배포할 때에 롤링 업데이트를 하거나, 배포 도중 Delay를 주어 배포의 안정성을 확보할 수 있다. 그리고 앱 배포 이후에 오류 발견 시 이전 버전으로 롤백이 가능</p>
</li>
</ul>
<br>
<h3 id="daemonsethttpskubernetesiokodocsconceptsworkloadscontrollersdaemonset">
  <strong>
  <a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/daemonset/">DaemonSet</a></strong>
  <a class="anchor" href="#daemonsethttpskubernetesiokodocsconceptsworkloadscontrollersdaemonset">#</a>
</h3>
<p>
  <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FwkGb8%2FbtsDs3Rpymc%2FkC0HQxkvCPyMMqlTkGYxA1%2Fimg.png" alt="" /></p>
<ul>
<li>
<p>DaemonSet은 특정 노드의 작업이 필요할 때 실행하는 Pod를 컨트롤</p>
</li>
<li>
<p>클러스터 안에 새롭게 노드가 추가되면 DaemonSet은 자동으로 해당 노드에 파드를 실행</p>
</li>
<li>
<p>DaemonSet의 대표적인 용도</p>
<ul>
<li>
<p>모든 노드에서 클러스터 스토리지 데몬 실행</p>
</li>
<li>
<p>모든 노드에서 로그 수집 데몬 실행</p>
</li>
<li>
<p>모든 노드에서 노드 모니터링 데몬 실행</p>
</li>
</ul>
</li>
</ul>
<br>
<h3 id="statefulsethttpskubernetesiokodocsconceptsworkloadscontrollersstatefulset">
  <strong>
  <a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/statefulset/">StatefulSet</a></strong>
  <a class="anchor" href="#statefulsethttpskubernetesiokodocsconceptsworkloadscontrollersstatefulset">#</a>
</h3>
<p>
  <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbJ4VJV%2FbtsDrlkJll6%2FSsf3gU3Cj8bj2F0uKIXTGK%2Fimg.webp" alt="" /></p>
<ul>
<li>
<p>이전의 리소스들은 모두 상태가 없는(stateless) Pod를 관리하는 용도 였다. StatefulSet은 특정 볼륨을 사용해서 특정 데이터를 저장하는 경우에 필요</p>
</li>
<li>
<p>Elasticsearch는 마스터 노드와 데이터 노드로 나뉘어 지고, 데이터 노드는 실제로 색인된 데이터를 저장하는 노드이다. 데이터의 안전성을 위해 Primary Shard와 Replica Shard로 나위어 데이터 손실 방지를 위해 서로 다른 노드에 하나씩 분포되어 있다. 그렇기 때문에 elasticsearch의 데이터 노드는 순서와 갯수 상태가 보존되어야 한다. 이럴 경우 statefulSet으로 배포</p>
</li>
</ul>
<br>
<h3 id="jobhttpskubernetesiokodocsconceptsworkloadscontrollersjob">
  <strong>
  <a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/job/">Job</a></strong>
  <a class="anchor" href="#jobhttpskubernetesiokodocsconceptsworkloadscontrollersjob">#</a>
</h3>
<ul>
<li>CronJob은 Job을 반복 일정에 따라 만든다. 백업, 리포트 생성 등의 정기적 작업을 수행하기 위해 사용된다. 리눅스 cron 명령어에서 사용하는 형식을 사용하여 지정한 시간(자정 한번)에 한번만 잡을 실행하거나 지정한 시간동안(10분주기) 주기적으로 반복</li>
</ul>
<br>
<h3 id="cronjobhttpskubernetesiokodocsconceptsworkloadscontrollerscron-jobsed81aceba1a0ec9ea1">
  <strong>
  <a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/cron-jobs/#%ED%81%AC%EB%A1%A0%EC%9E%A1">CronJob</a></strong>
  <a class="anchor" href="#cronjobhttpskubernetesiokodocsconceptsworkloadscontrollerscron-jobsed81aceba1a0ec9ea1">#</a>
</h3>
<ul>
<li>CronJob은 Job을 반복 일정에 따라 만든다. 백업, 리포트 생성 등의 정기적 작업을 수행하기 위해 사용된다. 리눅스 cron 명령어에서 사용하는 형식을 사용하여 지정한 시간(자정 한번)에 한번만 잡을 실행하거나 지정한 시간동안(10분주기) 주기적으로 반복</li>
</ul>
<br>
<br>
<h2 id="쿠버네티스-접근법">
  <strong>쿠버네티스 접근법</strong>
  <a class="anchor" href="#%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%ec%a0%91%ea%b7%bc%eb%b2%95">#</a>
</h2>
<hr>
<ul>
<li>쿠버네티스는 명령형 (Imperative), 선언형 (Declarative) 접근 법이 사용되며, <span style='background-color: #BFFFFF'>명령형 접근법의 경우 CLI기반의 객체관리, 선언형의 경우 (Kubectl apply)를 통한 YAML 파일 기반 객체 관리하는 방법</span>이라 할 수 있다.</li>
</ul>
<br>
<br>
<br>
<br>
<h3 id="명령형-imperative-접근">
  <strong>명령형 (Imperative) 접근</strong>
  <a class="anchor" href="#%eb%aa%85%eb%a0%b9%ed%98%95-imperative-%ec%a0%91%ea%b7%bc">#</a>
</h3>
<br>
<div class="book-columns flex flex-wrap">

  <div class="flex-even markdown-inner">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl run nginx --image<span style="color:#f92672">=</span>nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl create deployment nginx --image<span style="color:#f92672">=</span>nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl expose deployment nginx --port<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl edit deployment nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl scale deployment nginx --replicas<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl set image deployment nginx nginx<span style="color:#f92672">=</span>nginx:1.18
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl &lt;create|replace|delete&gt; -f nginx.yaml
</span></span></code></pre></div>
  </div>

  <div class="flex-even markdown-inner">
    <ul>
<li>
<p>명령형 접근법은 원하는 상태를 만들기 위해 필요한 동작을 지시하는 방식</p>
</li>
<li>
<p>즉 kubectl을 통해 구성 요소를 생성, 수정, 삭제 하는 명령어를 칭하며, 이는 <strong>요구되는 환경을 어떻게 만들 것인가</strong>에 초점을 두고 있다.</p>
</li>
<li>
<p>이는 YAML 파일을 통해 구성 요소의 상태를 정의해 놓은 경우에도, create, replace에 해당하는 작업을 실행하면 이는 명령형 접근법에 속한다.</p>
</li>
<li>
<p>이러한 명령형 접근법은 아래의 한게점을 가진다.</p>
<ul>
<li>명령어 만으로 수행 가능한 작업이 제한적</li>
<li>작업 내역의 추적이 어려움</li>
<li>현재 작업 환경의 설정사항을 직접 파악</li>
</ul>
</li>
<li>
<p>단, 필요한 요소를 명령어 한 줄로 즉시 생성하는 것이 명확한 장점이며, 이를 통해 빠르고 간결한 작업 수행이 요구되는 환경에서 명령형 접근법은 유용할 수 있다.</p>
</li>
</ul>

  </div>

</div>

<br>
<br>
<h3 id="선언형-declarative-접근">
  <strong>선언형 (Declarative) 접근</strong>
  <a class="anchor" href="#%ec%84%a0%ec%96%b8%ed%98%95-declarative-%ec%a0%91%ea%b7%bc">#</a>
</h3>
<br>
<div class="book-columns flex flex-wrap">

  <div class="flex-even markdown-inner">
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Pod</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">app</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">containers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx-container</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">nginx:1.20.2</span>
</span></span></code></pre></div><br>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl apply -f nginx.yaml
</span></span></code></pre></div>
  </div>

  <div class="flex-even markdown-inner">
    <ul>
<li>
<p>선언형 접근법은 원하는 상태(오브젝트)를 YAML을 통해 선언하는 방식</p>
</li>
<li>
<p>선언형 접근법은 <strong>요구되는 환경이 무엇인가</strong>에 초점을 둔다.</p>
</li>
<li>
<p><code>kubectl apply</code> 명령이 선언적 접근법에 해당하며, 이 명령은 적용하고자 하는 YAML 파일이 요구되는 문법에 맞게 작성되었느지를 검토 후, 해당되는 요소가 기준의 클러스터에 이미 배포되어 있는지를 체크하고, 신규생성이나 업데이트를 진행한다.</p>
</li>
<li>
<p>즉, <strong>관리자가 선언한 특정한 상태를 시스템이 스스로 파악하여 반영하는 접근법</strong></p>
</li>
</ul>

  </div>

</div>

<br>
<br>
<h3 id="활성-객체-설정-live-object-configuration">
  <strong>활성 객체 설정 (Live Object Configuration)</strong>
  <a class="anchor" href="#%ed%99%9c%ec%84%b1-%ea%b0%9d%ec%b2%b4-%ec%84%a4%ec%a0%95-live-object-configuration">#</a>
</h3>
<h1 id="heading-1">
  
  <a class="anchor" href="#heading-1">#</a>
</h1>
<ul>
<li>활성 객체 설정이란 쿠버네티스에서 클러스터 안에서 구동 중인 객체에 대한 정보를 담고 있는 일종의 데이터로 대게 etcd에 저장이 되어있다.</li>
<li>만약 선언형(YAML) 형식의 구성파일로 만든 객체라면, 해당 파일이 JSON 포맷으로 변환되어 어노테이션(metadata.annotation) 안에 kubectl.kubernetes.io/last-applied-configuration 항목으로 함께 삽입되며,</li>
</ul>
<br>
<br>
<h2 id="references">
  References
  <a class="anchor" href="#references">#</a>
</h2>
<hr>
<ul>
<li>
  <a href="https://peterica.tistory.com/480">https://peterica.tistory.com/480</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/mungOps/mung/commit/fd51269c1bdba185e98961252b1a552a2da86aad" title='Last modified by mungOps | February 22, 2024' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>February 22, 2024</span>
    </a>
  </div>







  <div><a class="flex align-center" href="https://github.com/mungOps/mung/blob/main/content/Devops/docs/Kubernetes/k8s/k8s03.md" target="_blank" rel="noopener">
          <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">
<div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "mungdocs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#kubernetes">Kubernetes</a>
      <ul>
        <li><a href="#workload-scheduling"><strong>Workload&amp; Scheduling</strong></a></li>
      </ul>
    </li>
    <li><a href="#heading"></a>
      <ul>
        <li>
          <ul>
            <li><a href="#podhttpskubernetesiokodocsconceptsworkloadspods"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/pods/"><strong>Pod</strong></a></strong></a></li>
          </ul>
        </li>
        <li><a href="#쿠버네티스-리소스"><strong>쿠버네티스 리소스</strong></a>
          <ul>
            <li><a href="#replicasethttpskubernetesiokodocsconceptsworkloadscontrollersreplicaset"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/replicaset/">ReplicaSet</a></strong></a></li>
            <li><a href="#deploymenthttpskubernetesiokodocsconceptsworkloadscontrollersdeployment"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/deployment/">Deployment</a></strong></a></li>
            <li><a href="#daemonsethttpskubernetesiokodocsconceptsworkloadscontrollersdaemonset"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/daemonset/">DaemonSet</a></strong></a></li>
            <li><a href="#statefulsethttpskubernetesiokodocsconceptsworkloadscontrollersstatefulset"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/statefulset/">StatefulSet</a></strong></a></li>
            <li><a href="#jobhttpskubernetesiokodocsconceptsworkloadscontrollersjob"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/job/">Job</a></strong></a></li>
            <li><a href="#cronjobhttpskubernetesiokodocsconceptsworkloadscontrollerscron-jobsed81aceba1a0ec9ea1"><strong><a href="https://kubernetes.io/ko/docs/concepts/workloads/controllers/cron-jobs/#%ED%81%AC%EB%A1%A0%EC%9E%A1">CronJob</a></strong></a></li>
          </ul>
        </li>
        <li><a href="#쿠버네티스-접근법"><strong>쿠버네티스 접근법</strong></a>
          <ul>
            <li><a href="#명령형-imperative-접근"><strong>명령형 (Imperative) 접근</strong></a></li>
            <li><a href="#선언형-declarative-접근"><strong>선언형 (Declarative) 접근</strong></a></li>
            <li><a href="#활성-객체-설정-live-object-configuration"><strong>활성 객체 설정 (Live Object Configuration)</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#heading-1"></a>
      <ul>
        <li><a href="#references">References</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  <script id="dsq-count-scr" src="//mungdocs-1.disqus.com/count.js" async></script>

</body>
</html>












